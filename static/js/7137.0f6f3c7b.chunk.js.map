{"version":3,"file":"static/js/7137.0f6f3c7b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/images/generateTextures.js","../node_modules/@arcgis/core/views/3d/analysis/images/heading-rotate-svg.js","../node_modules/@arcgis/core/views/3d/analysis/images/tilt-rotate-svg.js","../node_modules/@arcgis/core/views/3d/analysis/images/Factory.js","../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as i}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as g}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(v){const f=new n,{vertex:u,fragment:m}=f;return t(u,v),f.include(o,v),f.attributes.add(c.POSITION,\"vec3\"),f.attributes.add(c.UV0,\"vec2\"),v.perspectiveInterpolation&&f.attributes.add(c.PERSPECTIVEDIVIDE,\"float\"),f.varyings.add(\"vpos\",\"vec3\"),v.multipassEnabled&&f.varyings.add(\"depth\",\"float\"),u.code.add(d`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}\n    }\n  `),f.include(r,v),f.include(i,v),m.uniforms.add(new p(\"tex\",(e=>e.texture)),new l(\"opacity\",(e=>e.opacity))),f.varyings.add(\"vTexCoord\",\"vec2\"),v.transparencyPassType===g.ColorAlpha&&(f.outputs.add(\"fragColor\",\"vec4\",0),f.outputs.add(\"fragAlpha\",\"float\",1)),m.include(a),m.code.add(d`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${d.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType===g.ColorAlpha?d`\n              fragColor = premultiplyAlpha(fragColor);\n              fragAlpha = fragColor.a;`:\"\"}\n      ${v.output===e.ObjectAndLayerIdColor?d`\n              fragColor = vec4(0,0,0,1);`:\"\"}\n    }\n    `),f}const f=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{f as I,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";async function r(r,n,t,s,a,i,l){let d=null;if(null!=t){const o=`${r}/nodepages/`,n=o+Math.floor(t.rootIndex/t.nodesPerPage);try{return{type:\"page\",rootPage:(await e(n,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,rootIndex:t.rootIndex,pageSize:t.nodesPerPage,lodMetric:t.lodSelectionMetricType,urlPrefix:o}}catch(g){null!=i&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",n,g),d=g}}if(!n)return null;const p=n?.split(\"/\").pop(),c=`${r}/nodes/`,u=c+p;try{return{type:\"node\",rootNode:(await e(u,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,urlPrefix:c}}catch(g){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:d,nodeError:g,url:u})}}export{r as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{EsriPromiseMixin as r}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import a from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{watch as l}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as r}from\"../../../../chunks/boundedPlane.js\";import o from\"../../../../layers/Layer.js\";import c from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as h,projectAndElevationAlignShape as u,projectedShapeToPlane as d,planeToShape as p}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as y}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as w}from\"../../terrain/isTerrainSurfaceLayer.js\";let v=class extends a{constructor(e){super(e),this._internalChange=!1,this._currentSlicePlane=null}initialize(){this.addHandles(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof o||i instanceof c)?i instanceof o&&w(i)?(t.getLogger(this).error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(t.getLogger(this).error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),V(this.view,this),this.addHandles([l((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),l((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),l((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),l((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this.addHandles([l((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null,this._updateActiveController(),this._updateViewSlicePlane()),L(this.view,this),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(h).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(null==i&&null==e||null!=i&&null!=e&&e.equals(i))return;let a=null,l=null;if(null!=e?.position){const i=e.position.spatialReference,s=u(e,this.view);null==s&&y(this.analysis,i,t.getLogger(this)),a=d(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},r()),null!=a&&(l={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=l,this._internalChange=!0,this.analysisViewData.plane=a,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,a=p(e,this.view,this.view.spatialReference,new i);let t=null;null!=a&&(t={heading:a.heading,tilt:a.tilt,position:a.position,width:a.width,height:a.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=a,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(m)return;const e=_(this.view);if(!e)return;if(this.analysisViewData.active)null!=e.activeController&&e.activeController!==this?(m=!0,e.activeController.analysisViewData.active=!1,m=!1):null!=e.activeController&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(null!=e.activeController&&e.activeController!==this)return;null!=e.activeController&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){g(this.view)}_updateLayerViews(){const e=null!=this.analysisViewData.plane&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],a=e=>{\"layers\"in e?e.layers.forEach(a):i.push(e)};this.analysis.excludedLayers.forEach(a),this.view.allLayerViews.forEach((a=>{a.destroyed||(\"slicePlaneEnabled\"in a&&(a.slicePlaneEnabled=e&&!i.includes(a.layer)),\"sublayerViews\"in a&&a.sublayerViews.forEach((a=>{a.slicePlaneEnabled=e&&!i.includes(a.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([s()],v.prototype,\"view\",void 0),e([s()],v.prototype,\"analysis\",void 0),e([s()],v.prototype,\"analysisViewData\",void 0),e([s()],v.prototype,\"_allLayerAndSubLayerViews\",null),v=e([n(\"esri.views.3d.analysis.Slice.SliceController\")],v);const f=new Map;let m=!1;function g(e){const i=_(e),a=i?.activeController;null!=a?.analysisViewData.plane&&a.analysisViewData.visible?e.slicePlane=a.analysisViewData.plane:e.slicePlane=null}function V(e,i){f.has(e)||f.set(e,{all:[],activeController:null}),f.get(e)?.all.push(i)}function _(e){return f.get(e)}function L(e,i){if(!f.has(e))throw new Error(\"view expected in global slice register\");const a=f.get(e),t=a?.all.lastIndexOf(i)??-1;if(!a||-1===t)throw new Error(\"controller expected in global slice register\");a.all.splice(t,1),0===a.all.length&&f.delete(e)}export{v as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function a(a){switch(a.type){case\"building-scene\":case\"catalog\":case\"catalog-dynamic-group\":case\"catalog-footprint\":case\"csv\":case\"dimension\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"integrated-mesh-3dtiles\":case\"kml\":case\"knowledge-graph\":case\"link-chart\":case\"knowledge-graph-sublayer\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"video\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(a.type),!1}}export{a as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import{destroyMaybe as a,removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,sync as r,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";import{createScreenPoint as h,screenPointObjectToArray as p}from\"../../../../core/screenUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as d,fromScaling as _,multiply as v}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{m as P,l as y,c as m,j as w,g,h as f,n as M,s as D}from\"../../../../chunks/vec32.js\";import{clone as V,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{clone as T,ZEROS as E}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{a as k,c as S,n as x,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as H,create as C,intersectRay as R,getNormal as O}from\"../../../../geometry/support/plane.js\";import{create as I}from\"../../../../geometry/support/ray.js\";import{sv3d as z,sm4d as G,sv2d as L}from\"../../../../geometry/support/vectorStacks.js\";import{getRotateHeadingTexture as U,getTiltRotateTexture as A}from\"../images/Factory.js\";import{ResizeManipulator as K}from\"./ResizeManipulator.js\";import{RotateManipulator as B}from\"./RotateManipulator.js\";import{getOutlineColor as F,planeColor as N}from\"./settings.js\";import{ShiftManipulator as q,OffsetMode as Z}from\"./ShiftManipulator.js\";import{pointerMoveTimerMs as W,planePreviewOutlineWidth as J,forceVerticalModifier as Q,forceHorizontalModifier as X,previewFadeDotThreshold as Y,previewFadeDurationSeconds as $,initialDepthOffsetFrac as tt}from\"./sliceToolConfig.js\";import{createGridVisualElement as et,createOutlineVisualElement as it,planeToShape as at,createRotatePlane as st,RotationAxis as nt,resizePlane as rt,calculatePlaneHalfSize as lt,SliceOrientation as ot,createPlane as ht,DidPointerMoveRecentlyFlag as pt,calculateBoundedPlaneTranslateRotate as ut,updateShiftRestartHandle as ct,updateRotateHeadingHandle as dt,updateRotateTiltHandle as _t,updateResizeHandle as vt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{calculateInputRotationTransform as yt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as mt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreenNormalized as wt}from\"../../support/geometryUtils/ray.js\";import{AnalysisToolBase as gt}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as ft}from\"../../../interactive/dragEventPipeline.js\";import{newToolIntersector as Mt}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointFromEvent as Dt}from\"../../../support/screenUtils.js\";var Vt;let bt=Vt=class extends gt{constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this._layersMode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._frameTask=null,this._pointerMoveTimerMs=W,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=k(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=h(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Mt(t.view.state.viewingMode)}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(null!=this.analysisViewData.plane&&S(this.analysisViewData.plane,this._startPlane),this.inputState=null)},e=new q(this.view,Z.CENTER_ON_ARROW);this.shiftManipulator=e,this.manipulators.add(e),this.addHandles([this._createShiftDragPipeline(e),e.events.on(\"grab-changed\",(i=>{this._onShiftGrab(i),t(e)}))]);const i=!this.view._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result,a=new B(this.view,((t,e)=>U(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateHeadingManipulator=a,this.manipulators.add(a),this.addHandles([this._createRotateHeadingDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(a)}))]);const s=new B(this.view,((t,e)=>A(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateTiltManipulator=s,this.manipulators.add(s),this.addHandles([this._createRotateTiltDragPipeline(s),s.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(s)}))]),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=new K(this.view,e);return this.addHandles([this._createResizeDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)}))]),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=et(this.view),this._previewPlaneOutlineVisualElement=it(this.view),this._previewPlaneOutlineVisualElement.width=J,this.addHandles(n((()=>[this.analysisViewData.plane,this.analysis.tiltEnabled]),(()=>this._updateManipulators()),r));const o=n((()=>this.state),(t=>{\"sliced\"===t&&this.finishToolCreation()}),l);this.addHandles([o,n((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=a(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=a(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this._isPlacingSlicePlane||\"exclude\"===this.layersMode?\"crosshair\":null!=this._creatingPointerId?\"grabbing\":null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this.removeHandles(\"analysis\"),this._set(\"analysis\",t)}get layersMode(){return this._layersMode}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=null!=t&&\"resize\"===t.type,this._updateMaterials()}get _isPlacingSlicePlane(){return!this.inputState&&!this.analysisViewData.plane&&this.active}get _creatingPointerId(){return null!=this.inputState&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}enterExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"exclude\",this.active||(this.view.activeTool=this))}exitExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"none\",this.active&&(this.view.activeTool=null))}onDeactivate(){this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!kt(t))return;this._isPlacingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!kt(t))return;this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"click\":if(!kt(t))return;this._onClickExcludeLayer(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&null!=e&&\"shift\"===e.type){const i=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(Dt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane){const e=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),S(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(\"exclude\"===this.layersMode)return!1;if(this._isPlacingSlicePlane){const i=Dt(t),a=k();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(\"pointer-drag\"===t.type){const e=wt(this.view.state.camera,i,xt);this.inputState=Et(e,t.pointerId,a.origin,a)}return S(a,this._startPlane),this.analysis.shape=at(a,this.view,this.view.spatialReference,new e),!0}}return!1}_onClickExcludeLayer(t){return!(\"exclude\"!==this.layersMode||!this.created)&&(this.view.hitTest(Dt(t)).then((t=>{if(t.results.length){const e=t.results[0],i=\"graphic\"===e?.type&&e.graphic;if(i){const t=i.sourceLayer||i.layer;t&&this.analysis.excludedLayers.push(t)}}else t.ground.layer?this.analysis.excludedLayers.push(t.ground.layer):this.analysis.excludeGroundSurface=!0})),this.exitExcludeLayerMode(),!0)}_onKeyDown(t){return(t.key===Q||t.key===X)&&(this._activeKeyModifiers[t.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==Q&&t.key!==X||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=wt(this.view.state.camera,t.screenPoint,xt);S(this.analysisViewData.plane,this._startPlane),this.inputState=Et(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"shift\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=.001,a=Math.min((1-Math.abs(P(x(this.analysisViewData.plane),e.ray.direction)/y(e.ray.direction)))/i,1),s=-H(this._startPlane.plane,e.renderEnd),n=-H(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(null==this.analysisViewData.plane)return;const e=m(z.get(),this._startPlane.origin),i=m(z.get(),x(this._startPlane));w(i,i,-t.depth),g(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,k());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.HEADING,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.TILT,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=O(t.rotatePlane),a=yt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(null==this.analysisViewData.plane)return;const e=d(G.get(),t.rotateAngle,t.rotateAxis);if(null==e)return;const i=f(z.get(),this._startPlane.basis1,e),a=f(z.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,k());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const i=wt(this.view.state.camera,t.screenPoint,xt),a=z.get();R(this.analysisViewData.plane.plane,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:V(a)})}_createResizeDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"resize\"!==a.type||null==this.analysisViewData.plane)return;const s=S(this.analysisViewData.plane,k());e.next(mt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(null==this.analysisViewData.plane)return;const i=this._resizeHandles[t.activeHandleIdx],a=rt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,S(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(null==e)throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){let i=this._previewPlane;if(this._previewPlane=null,null==t)return this._removeFrameTask(),void this._updateManipulators();if(!this.analysisViewData.plane&&this.active){const a=null!=i?i:k();if(i=null!=i?S(i,St):null,this._pickPlane(t,!0,e,a)){const t=Y;let e=!1;null!=i&&(e=P(O(i.plane),O(a.plane))<t||P(M(z.get(),i.basis1),M(z.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=o({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*$),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}_removeFrameTask(){this._frameTask=s(this._frameTask)}_pickMinResult(t){const e=p(t,L.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=z.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(z.get()),l=this.view.state.camera;P(r,l.viewForward)>0&&w(r,r,-1);const o=lt(n,l),h=(e?1:-1)*o*tt,p=w(z.get(),r,h);g(p,p,n);const u=this.analysis.tiltEnabled?ot.TILTED:ot.HORIZONTAL_OR_VERTICAL,c=i[Q]?ot.VERTICAL:i[X]?ot.HORIZONTAL:u;return ht(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=pt,this.rotateHeadingManipulator.state|=pt,this.rotateTiltManipulator.state|=pt,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~pt,this.rotateHeadingManipulator.state&=~pt,this.rotateTiltManipulator.state&=~pt}),this._pointerMoveTimerMs)}_updateManipulators(){if(Vt.disableEngineLayers)return;let t,e=!1;if(null!=this.analysisViewData.plane)t=this.analysisViewData.plane,e=!1;else{if(null==this._previewPlane)return this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.visible=!1,void(this._previewPlaneGridVisualElement.visible=!1);t=this._previewPlane,e=!0}const i=ut(t,G.get());e?(this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.attached=!0,this._previewPlaneGridVisualElement.attached=!0,this._previewPlaneOutlineVisualElement.visible=!0,this._previewPlaneGridVisualElement.visible=!0):(this.shiftManipulator.available=!0,this.rotateHeadingManipulator.available=!0,this.rotateTiltManipulator.available=this.analysis.tiltEnabled,this.resizeManipulators.forEach((t=>t.available=!0)),ct(this.shiftManipulator,i,t,this.view.state.camera),dt(this.rotateHeadingManipulator,i,t,this.view.renderCoordsHelper),_t(this.rotateTiltManipulator,i,t),this.resizeManipulators.forEach(((e,a)=>vt(e,this._resizeHandles[a],i,t))),this._previewPlaneOutlineVisualElement.visible=!1,this._previewPlaneGridVisualElement.visible=!1);const a=D(z.get(),y(t.basis1),y(t.basis2),1),s=_(G.get(),a),n=v(s,i,s);this._previewPlaneOutlineVisualElement.transform=n,this._previewPlaneGridVisualElement.transform=n,this._updateMaterials()}_updateMaterials(){const t=F(this.view.effectiveTheme);t[3]*=this._previewPlaneOpacity;const e=T(N);e[3]*=this._previewPlaneOpacity,this._previewPlaneOutlineVisualElement.color=t,this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=E}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}testData(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};bt.disableEngineLayers=!1,t([u()],bt.prototype,\"_clock\",void 0),t([u({constructOnly:!0})],bt.prototype,\"view\",void 0),t([u()],bt.prototype,\"analysisViewData\",void 0),t([u({readOnly:!0})],bt.prototype,\"state\",null),t([u({readOnly:!0})],bt.prototype,\"cursor\",null),t([u()],bt.prototype,\"analysis\",null),t([u()],bt.prototype,\"removeIncompleteOnCancel\",void 0),t([u()],bt.prototype,\"_layersMode\",void 0),t([u()],bt.prototype,\"layersMode\",null),t([u({value:null})],bt.prototype,\"inputState\",null),t([u()],bt.prototype,\"_isPlacingSlicePlane\",null),t([u()],bt.prototype,\"_creatingPointerId\",null),bt=Vt=t([c(\"esri.views.3d.analysis.Slice.SliceTool\")],bt);const Tt=bt;function Et(t,e,i,a){const s=Pt(i,x(a),t.direction,C()),n=b();return R(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function kt(t){return\"mouse\"!==t.pointerType||0===t.button}const St=k(),xt=I();export{Tt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{watch as s,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromScaling as a,multiply as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{s as m,l as u}from\"../../../../chunks/vec32.js\";import{ZEROS as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as c,sm4d as h}from\"../../../../geometry/support/vectorStacks.js\";import{getGridColor as d,getOutlineColor as v,planeColor as g}from\"./settings.js\";import{planePreviewOutlineWidth as w,planeOutlineWidth as V}from\"./sliceToolConfig.js\";import{createGridVisualElement as _,createOutlineVisualElement as f,calculateBoundedPlaneTranslateRotate as E}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as j}from\"../../webgl-engine/materials/lineStippleUtils.js\";let b=class extends e{constructor(i){super(i),this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(null==i)throw new Error(\"expected internal object to be valid\");this._gridVisualElement=_(this.view),this._outlineVisualElement=f(this.view),this.addHandles([s((()=>{const e=null!=i.plane&&this.analysisViewData.visible,{active:t}=this.analysisViewData,{preview:s,showGrid:o,view:r}=this,{effectiveTheme:l}=r;return{visible:e,active:t,preview:s,showGrid:o,gridColor:d(l),outlineColor:v(l)}}),(i=>this._updateMaterials(i)),o),s((()=>i.plane),(i=>this._updatePlane(i)),o)],\"internal\")}destroy(){this._gridVisualElement=t(this._gridVisualElement),this._outlineVisualElement=t(this._outlineVisualElement),this.set(\"view\",null)}_updatePlane(i){if(null==i)return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=m(c.get(),u(i.basis1),u(i.basis2),1),t=a(h.get(),e),s=E(i,h.get()),o=n(t,s,t);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:t,showGrid:s,gridColor:o,outlineColor:r}){this._outlineVisualElement.color=r,this._outlineVisualElement.width=t?w:V,this._outlineVisualElement.stipplePattern=e?null:j(5),this._gridVisualElement.backgroundColor=g,this._gridVisualElement.gridColor=s?o:p,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([r()],b.prototype,\"view\",void 0),i([r()],b.prototype,\"analysis\",void 0),i([r()],b.prototype,\"analysisViewData\",void 0),i([r()],b.prototype,\"showGrid\",void 0),i([r()],b.prototype,\"preview\",void 0),b=i([l(\"esri.views.3d.analysis.Slice.SliceVisualization\")],b);export{b as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as l}from\"./AnalysisView3D.js\";import{SliceController as e}from\"./Slice/SliceController.js\";import r from\"./Slice/SliceTool.js\";import{SliceVisualization as n}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as y}from\"../../analysis/analysisViewUtils.js\";let h=class extends(l(i)){constructor(s){super(s),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.analysisVisualization=null,this.analysisController=null,this.plane=null,this.active=!0}initialize(){this.analysisVisualization=new n({view:this.view,analysis:this.analysis,analysisViewData:this}),this.analysisController=new e({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,r))}destroy(){y(this),this.analysisVisualization=t(this.analysisVisualization),this.analysisController=t(this.analysisController)}get showGrid(){return this.analysisVisualization?.showGrid??!1}set showGrid(s){this.analysisVisualization&&(this.analysisVisualization.showGrid=s)}get editable(){return!this.analysisVisualization.preview}set editable(s){this.analysisVisualization.preview=!s}get testData(){}};s([a({readOnly:!0})],h.prototype,\"type\",void 0),s([a({constructOnly:!0,nonNullable:!0})],h.prototype,\"analysis\",void 0),s([a()],h.prototype,\"tool\",void 0),s([a()],h.prototype,\"plane\",void 0),s([a()],h.prototype,\"active\",void 0),s([a()],h.prototype,\"showGrid\",null),s([a()],h.prototype,\"editable\",null),h=s([o(\"esri.views.3d.analysis.SliceAnalysisView3D\")],h);const c=h;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst t=\"theme-style\";function e(t,e){return a(r(n(o(t),e)),e.size)}function n(e,{accentColor:n,contrastColor:o}){const r=n.toHex(),a=n.a,s=o.toHex(),i=o.a,c=e.getElementsByTagNameNS(\"http://www.w3.org/2000/svg\",\"style\").namedItem(t);return c&&(c.innerHTML=`\\n      .contrast-fill { fill: ${s}; fill-opacity: ${i}; }\\n      .contrast-stroke { stroke: ${s}; stroke-opacity: ${i};  }\\n      .accent-fill { fill: ${r}; fill-opacity: ${a}; }\\n      .accent-stroke { stroke: ${r}; stroke-opacity:  ${a}; }`),e}function o(t){const e=t.split(\",\")[1],n=atob(e);return(new DOMParser).parseFromString(n,\"image/svg+xml\")}function r(t){const e=(new XMLSerializer).serializeToString(t);return`data:image/svg+xml;base64,${btoa(e)}`}function a(t,e){const n=new Image(e,e);return n.src=t,n}export{e as generateStyledTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst I=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NiIgY2xhc3M9ImFjY2VudC1maWxsIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI0Ljk5IiBkPSJNMjAuMDUgNDAuODZhMTUuMDUgMTUuMDUgMCAwIDAgMTcuMTQtMS41IDE1LjA1IDE1LjA1IDAgMCAwIDQuNDctMTYuNjUgMTUuMDUgMTUuMDUgMCAwIDAtMjIuNzItNy4xNSAxNS4wNSAxNS4wNSAwIDAgMC01LjUgNy4xNSIgY2xhc3M9ImNvbnRyYXN0LXN0cm9rZSIvPjxwYXRoIGQ9Im0xMC45NyAzNS41NyA1LjM4IDEyLjA3IDcuNzktMTMuNDd6IiBjbGFzcz0iY29udHJhc3QtZmlsbCIvPjwvc3ZnPg==\";export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst I=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxjaXJjbGUgY3g9IjM5LjQ3OCIgY3k9IjMuMDc4IiByPSIyOCIgY2xhc3M9ImFjY2VudC1maWxsIiB0cmFuc2Zvcm09InJvdGF0ZSg0MC41NDIpIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI1IiBkPSJtNy4wNzQgMzAuMDUzIDI5LjM5NyAxMS45ODUtMy42NzMtMzMuNDkzIiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSIyLjk5NiIgZD0iTTI0LjUwNCAyMy4yMDdhMTEuOTggMTEuOTggMCAwIDAtOS44IDcuNTA3IiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIGNvbnRyYXN0LWZpbGwiLz48cGF0aCBkPSJtMjkuODE4IDIyLjgwOC02LjE4NCA0LjYtLjU0MS04LjM2NHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+\";export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{generateStyledTexture as t}from\"./generateTextures.js\";import o from\"./heading-rotate-svg.js\";import r from\"./tilt-rotate-svg.js\";import{Texture as e}from\"../../webgl-engine/lib/Texture.js\";const a=64;function l(r,l){const{accentColor:n,contrastColor:c,preMultiplyAlpha:i}=l;return r.fromData(`heading-rotate:[accent:${n},contrast:${c},size:${a}]`,(()=>new e(t(o,{accentColor:n,contrastColor:c,size:a}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:i})))}function n(o,l){const{accentColor:n,contrastColor:c,preMultiplyAlpha:i}=l;return o.fromData(`tilt-rotate:[accent:${n},contrast:${c},size:${a}]`,(()=>new e(t(r,{accentColor:n,contrastColor:c,size:a}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:i})))}export{l as getRotateHeadingTexture,n as getTiltRotateTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{tryProjectWithZConversion as o}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as e}from\"../../support/ElevationProvider.js\";function r(r,t,i,n=!1){const l=o(r,t);return null==l?null:(l.hasZ&&!n||null==i||(l.z=e(i,l)??0),l)}function t(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{r as applyProjectionAndElevationAlignment,t as logFailedGeometryProjectionError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{screenPointObjectToArray as e,castScreenPointArray as n,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{l as t,c as o,b as l,f as s,m as c,j as a,g as i}from\"../../../../chunks/vec32.js\";import{create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPoint as p}from\"../../../../geometry/projection.js\";import{intersectRay as m,create as d,getNormal as f,fromPositionAndNormal as g}from\"../../../../geometry/support/plane.js\";import{create as E,closestPoints as y}from\"../../../../geometry/support/ray.js\";import{projectPoint as S}from\"../../../../geometry/support/vector.js\";import{sv2d as j}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as R}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as v}from\"../../support/geometryUtils/ray.js\";import{newIntersector as x}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as b,IntersectorType as w}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{terrainId as I}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as H}from\"../../../interactive/dragEventPipeline.js\";import U from\"../../../../geometry/Point.js\";function O(e,n){return P(e,(()=>n))}function C(e){return P(e,(e=>e.plane))}function P(r,t){const o=u(),l=u();let s=!1;return c=>{const a=t(c);if(\"start\"===c.action){const t=e(c.screenStart,n(j.get())),l=v(r.state.camera,t,K);null!=l&&(s=m(a,l,o))}if(!s)return null;const i=e(c.screenEnd,n(j.get())),u=v(r.state.camera,i,K);return null==u?null:m(a,u,l)?{...c,renderStart:o,renderEnd:l,plane:a,ray:u}:null}}function T(e,n,t=0,o=null,l=null){let s=null;return c=>{if(\"start\"===c.action&&(s=e.sceneIntersectionHelper.intersectElevationFromScreen(r(c.screenStart.x,c.screenStart.y),n,t,l),null!=s&&null!=o&&!p(s,s,o)))return null;if(null==s)return null;const a=e.sceneIntersectionHelper.intersectElevationFromScreen(r(c.screenEnd.x,c.screenEnd.y),n,t,l);return null!=a&&(null==o||p(a,a,o))?{...c,mapStart:s,mapEnd:a}:null}}function D(e,n,r,t=null,o=null){return T(e,r,R(n,e,r),t,o)}function M(e,n,r,t){const o=r.toMap(e.screenStart);return null!=o?D(n,o,r.elevationInfo,t):null}function N(e,n){const r=B,t=J,o=d();e.renderCoordsHelper.worldUpAtPosition(n,r);const c=l(f(o),r,s(t,n,e.state.camera.eye));return l(c,c,r),g(n,c,o)}function G(e,n,r){let t=null;const o=new H;return o.next(O(e,N(e,n))).next(h(e,n)).next(A(e,r)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function h(e,n){const r=u(),l=t(n);e.renderCoordsHelper.worldUpAtPosition(n,r);const p=u(),m=u(),d=o=>{if(s(o,o,n),S(r,o,o),\"global\"===e.viewingMode){t(o)*Math.sign(c(r,o))<.001-l&&s(o,a(o,r,.001),n)}return i(o,o,n),o};return e=>(e.renderStart=d(o(p,e.renderStart)),e.renderEnd=d(o(m,e.renderEnd)),e)}function k(r,t){const o=o=>{const l=e(o,n(j.get())),s=v(r.state.camera,l,K);return null==s?null:y(t,s,B,J)[1]};return e=>{const n=o(e.screenStart);if(null==n)return null;const r=o(e.screenEnd);return null==r?null:{...e,renderStart:n,renderEnd:r}}}function A(e,n){const r=e.renderCoordsHelper;return e=>{const t=r.fromRenderCoords(e.renderStart,new U({spatialReference:n})),o=r.fromRenderCoords(e.renderEnd,new U({spatialReference:n}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var F;function q(e){let n=null;return r=>{switch(r.action){case\"start\":n=e.disableDisplay();break;case\"end\":case\"cancel\":null!=n&&(n.remove(),n=null)}return r}}function z(n,t=null){const o=x(n.state.viewingMode);o.options.selectionMode=!0,o.options.store=b.MIN,o.options.hud=!1;const l=r(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=u(),a=t??n.spatialReference,i=r=>{n.map.ground&&n.map.ground.opacity<1?s.exclude.add(I):s.exclude.delete(I),n.sceneIntersectionHelper.intersectIntersectorScreen(e(r,l),o,s);const t=o.results.min;let i;if(t.getIntersectionPoint(c))i=t.intersector===w.TERRAIN?F.GROUND:F.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;i=F.GROUND}return{location:n.renderCoordsHelper.fromRenderCoords(c,new U({spatialReference:a})),surfaceType:i}};let p;return e=>{if(\"start\"===e.action){const n=i(e.screenStart);p=null!=n?n.location:null}if(null==p)return null;const n=i(e.screenEnd);return null!=n?.location?{...e,mapStart:p,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(F||(F={}));const B=u(),J=u(),K=E();export{F as SurfaceType,A as convertToMapCoordinates,q as hideManipulatorWhileDragging,h as projectToWorldUp,z as screenToMap3D,D as screenToMapXYAtLocation,M as screenToMapXYForManipulatedObject,O as screenToRenderPlane,C as screenToRenderPlaneFromEvent,k as screenToRenderRay,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import{oitBlending as a,oitDepthTest as l,oitDepthWrite as p,oitDrawBuffers as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as P}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as O,makePipelineState as j,cullingParams as S,defaultDepthWriteParams as v,defaultColorWriteParams as I}from\"../../../webgl/renderState.js\";class N extends r{}class E extends o{initializeProgram(e){return new h(e.rctx,E.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const i=this.configuration,o=e===y.NONE,s=e===y.FrontFace;return j({blending:i.output===t.Color&&i.transparent?o?w:a(e):null,culling:S(i.cullFace),depthTest:{func:l(e)},depthWrite:o?i.writeDepth?v:null:p(e),drawBuffers:c(e),colorWrite:I,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:o||s?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}E.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const w=O(T.ONE,T.ONE_MINUS_SRC_ALPHA);class C extends P{constructor(){super(...arguments),this.output=t.Color,this.cullFace=n.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}e([s({count:t.COUNT})],C.prototype,\"output\",void 0),e([s({count:n.COUNT})],C.prototype,\"cullFace\",void 0),e([s()],C.prototype,\"hasSlicePlane\",void 0),e([s()],C.prototype,\"transparent\",void 0),e([s()],C.prototype,\"enableOffset\",void 0),e([s()],C.prototype,\"writeDepth\",void 0),e([s()],C.prototype,\"hasOccludees\",void 0),e([s({count:y.COUNT})],C.prototype,\"transparencyPassType\",void 0),e([s()],C.prototype,\"multipassEnabled\",void 0),e([s()],C.prototype,\"cullAboveGround\",void 0),e([s()],C.prototype,\"perspectiveInterpolation\",void 0),e([s({constValue:!1})],C.prototype,\"occlusionPass\",void 0);const _=new Map([[b.POSITION,0],[b.UV0,2],[b.PERSPECTIVEDIVIDE,3]]);export{N as ImageMaterialPassParameters,E as ImageMaterialTechnique,C as ImageMaterialTechniqueConfiguration,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isOIDorHighlight as t,isColor as r,ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as i}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as n}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as d}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as _,ImageMaterialTechniqueConfiguration as E,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";class g extends m{constructor(e){super(e,new P),this.supportsEdges=!0,this.produces=new Map([[p.OPAQUE_MATERIAL,e=>t(e)||r(e)&&!this.parameters.transparent],[p.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.transparent&&this.parameters.writeDepth],[p.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>r(e)&&this.parameters.transparent&&!this.parameters.writeDepth],[p.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._vertexAttributeLocations=_,this._configuration=new E}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=h.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new b(e)}}class I extends i{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(T,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(e){return this._output===s.Color&&this._updateOccludeeState(e),this._updateParameters(e)}}class b extends l{write(t,r,s,a,i){for(const n of this.vertexBufferLayout.fields.keys()){const o=s.attributes.get(n);if(o)if(n===c.PERSPECTIVEDIVIDE){u(1===o.size);const t=a.getField(n,e);t&&f(o,t,i)}else d(n,o,t,r,a,i)}}}class P extends n{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=a.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{g as ImageMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{newIntersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";import{StoreResults as o}from\"../3d/webgl-engine/lib/IntersectorInterfaces.js\";function t(t){const n=e(t);return n.options.store=o.MIN,n.options.hud=!1,n}export{t as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{distance as n,dot as r,squaredLength as e,scale as s,subtract as o,add as c,scaleAndAdd as u,copy as i,length as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{clone as a,create as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,r,e){const s=(r[0]-t[0])*(e[1]-t[1])-(r[1]-t[1])*(e[0]-t[0]);return Math.abs(s)/n(r,e)}function E(t,n,o){const c=r(o,n)/e(o);return s(t,o,c)}function I(t,n,r,e,s=r){return o(x,e,r),o(g,n,s),E(A,g,x),c(t,s,A)}function L(t,n,s,c){o(x,c,s),o(g,n,s);const f=r(x,g)/e(x);return f>0?u(t,s,x,f):i(t,s)}function N(t,n,r,e){o(x,n,r);const s=e/f(x);return u(t,r,x,s)}function l(n,r){return I(g,r,n.start,n.end),t(g[0],r[0])&&t(g[1],r[1])?[a(r)]:[]}function y(n,r,e){return N(g,e,n,r),t(g[0],e[0])&&t(g[1],e[1])?[a(e)]:[]}function b(t,n){const r=t.start,e=t.end,s=n.start,c=n.end,i=o(x,e,r),f=o(M,c,s),a=m(i,f);if(Math.abs(a)<=v)return[];const p=o(g,r,s),h=m(f,p)/a,E=m(i,p)/a;if(h>=0){if(E>=0||n.type===j.LINE)return[u(A,r,i,h)]}else if(t.type===j.LINE&&(E>=0||n.type===j.LINE))return[u(A,r,i,h)];return[]}function d(t,n,s){const c=[],i=o(x,t.end,t.start),f=o(M,t.start,n),a=e(i),p=2*r(i,f),m=p*p-4*a*(e(f)-s*s);if(0===m){const n=-p/(2*a);(t.type===j.LINE||n>=0)&&c.push(u(A,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),r=(-p+n)/(2*a);(t.type===j.LINE||r>=0)&&c.push(u(A,t.start,i,r));const e=(-p-n)/(2*a);(t.type===j.LINE||e>=0)&&c.push(u(g,t.start,i,e))}return c}var j;!function(t){t[t.RAY=0]=\"RAY\",t[t.LINE=1]=\"LINE\"}(j||(j={}));const v=1e-6,x=p(),M=p(),g=p(),A=p();export{j as LineType,m as cross,y as intersectCircleAndPoint,l as intersectLineAndPoint,b as intersectLineAndRay,d as intersectLineLikeAndCircle,h as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};\n"],"names":["v","f","n","vertex","u","fragment","m","t","include","o","attributes","add","c","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","multipassEnabled","code","d","r","i","uniforms","p","e","texture","l","opacity","transparencyPassType","g","ColorAlpha","outputs","a","float","s","output","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","async","Math","floor","rootIndex","nodesPerPage","type","rootPage","query","token","responseType","signal","data","pageSize","lodMetric","lodSelectionMetricType","urlPrefix","warn","split","pop","rootNode","pageError","nodeError","url","constructor","super","arguments","this","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","constructOnly","prototype","Boolean","readOnly","_internalChange","_currentSlicePlane","initialize","addHandles","analysis","excludedLayers","on","item","w","getLogger","error","title","id","preventDefault","includes","has","set","all","activeController","get","push","V","view","analysisViewData","plane","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","active","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","destroy","slicePlane","Error","lastIndexOf","splice","length","delete","L","allLayerViews","items","concat","filter","h","flatMap","_ref","sublayerViews","equals","position","spatialReference","y","tiltEnabled","heading","tilt","width","height","_","layers","forEach","destroyed","slicePlaneEnabled","layer","sublayer","basemapTerrain","Map","Vt","bt","gt","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","_layersMode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_frameTask","_pointerMoveTimerMs","W","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","k","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","direction","_intersector","Mt","state","viewingMode","_updateManipulatorsInteractive","grabbing","S","inputState","q","Z","CENTER_ON_ARROW","manipulators","_createShiftDragPipeline","events","_onShiftGrab","_stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","result","B","U","textures","accentColor","contrastColor","preMultiplyAlpha","_createRotateHeadingDragPipeline","_onRotateHeadingGrab","A","_createRotateTiltDragPipeline","_onRotateTiltGrab","map","K","_createResizeDragPipeline","_onResizeGrab","addMany","et","it","J","_updateManipulators","finishToolCreation","camera","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","cursor","_isPlacingSlicePlane","layersMode","_creatingPointerId","removeHandles","_set","_get","showGrid","_updateMaterials","creatingPointerId","enterExcludeLayerMode","activeTool","exitExcludeLayerMode","onDeactivate","_updatePreviewPlane","onShow","_updateVisibility","onHide","onInputEvent","kt","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","_onClickExcludeLayer","_onKeyDown","_onKeyUp","onEditableChange","editable","internallyEditable","pointerId","Dt","emit","action","hasBeenDragged","pointerType","start","screenPoint","x","_resetPointerMoveTimeout","_pickPlane","wt","xt","Et","origin","at","created","hitTest","then","results","graphic","sourceLayer","ground","key","Q","X","renderLocation","ft","next","mt","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","min","abs","P","ray","H","renderEnd","startPoint","depth","z","j","basis1","basis2","st","renderCoordsHelper","nt","HEADING","C","b","R","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","TILT","O","yt","rotateAxis","rotateAngle","G","activeHandleIdx","_resizeDragUpdatePlane","rt","undefined","St","Y","M","update","deltaTime","$","_pickMinResult","sceneIntersectionHelper","intersectToolIntersectorScreen","getIntersectionPoint","getTransformedNormal","viewForward","lt","tt","ot","TILTED","HORIZONTAL_OR_VERTICAL","VERTICAL","HORIZONTAL","ht","pt","setTimeout","disableEngineLayers","available","ut","attached","ct","dt","_t","vt","D","transform","F","effectiveTheme","T","N","color","backgroundColor","gridColor","E","testData","setPointerMoveTimerMs","Tt","Pt","button","I","_gridVisualElement","_outlineVisualElement","preview","outlineColor","_updatePlane","stipplePattern","tool","analysisVisualization","analysisController","nonNullable","Image","src","XMLSerializer","serializeToString","btoa","atob","DOMParser","parseFromString","size","toHex","getElementsByTagNameNS","namedItem","innerHTML","fromData","mipmap","reloadable","hasZ","warnOnce","wkid","screenStart","screenEnd","renderStart","intersectElevationFromScreen","mapStart","mapEnd","toMap","elevationInfo","worldUpAtPosition","eye","sign","execute","fromRenderCoords","disableDisplay","remove","options","selectionMode","store","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","intersectIntersectorScreen","intersector","TERRAIN","GROUND","OTHER","location","surfaceType","initializeProgram","rctx","shader","configuration","_setPipelineState","NONE","FrontFace","blending","Color","transparent","culling","cullFace","depthTest","func","depthWrite","writeDepth","drawBuffers","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipeline","ONE","ONE_MINUS_SRC_ALPHA","None","hasSlicePlane","cullAboveGround","count","COUNT","constValue","supportsEdges","produces","OPAQUE_MATERIAL","parameters","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","DRAPED_MATERIAL","_vertexAttributeLocations","_configuration","getConfiguration","relativeElevation","multipassTerrain","createGLMaterial","createBufferWriter","clone","f32","material","_updateParameters","updateTexture","_material","textureId","setParameters","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","write","vertexBufferLayout","fields","keys","getField","initTextureTransparent","tools","deactivate","clear","resetCreated","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","end","LINE","sqrt","RAY"],"sourceRoot":""}