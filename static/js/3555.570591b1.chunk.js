"use strict";(self.webpackChunkpersonal_website=self.webpackChunkpersonal_website||[]).push([[3555],{56002:(e,t,i)=>{function r(e){let t,i,r=[],n=!1;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return n&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}(o,r)||(i=e.apply(this,o),t=this,r=o,n=!0),i}}i.d(t,{B:()=>r})},59962:(e,t,i)=>{i.d(t,{t:()=>u,k:()=>d});const r="theme-style";function n(e,t){return function(e,t){const i=new Image(t,t);return i.src=e,i}(function(e){const t=(new XMLSerializer).serializeToString(e);return`data:image/svg+xml;base64,${btoa(t)}`}(s(function(e){const t=e.split(",")[1],i=atob(t);return(new DOMParser).parseFromString(i,"image/svg+xml")}(e),t)),t.size)}function s(e,t){let{accentColor:i,contrastColor:n}=t;const s=i.toHex(),o=i.a,a=n.toHex(),l=n.a,c=e.getElementsByTagNameNS("http://www.w3.org/2000/svg","style").namedItem(r);return c&&(c.innerHTML=`\n      .contrast-fill { fill: ${a}; fill-opacity: ${l}; }\n      .contrast-stroke { stroke: ${a}; stroke-opacity: ${l};  }\n      .accent-fill { fill: ${s}; fill-opacity: ${o}; }\n      .accent-stroke { stroke: ${s}; stroke-opacity:  ${o}; }`),e}const o="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NiIgY2xhc3M9ImFjY2VudC1maWxsIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI0Ljk5IiBkPSJNMjAuMDUgNDAuODZhMTUuMDUgMTUuMDUgMCAwIDAgMTcuMTQtMS41IDE1LjA1IDE1LjA1IDAgMCAwIDQuNDctMTYuNjUgMTUuMDUgMTUuMDUgMCAwIDAtMjIuNzItNy4xNSAxNS4wNSAxNS4wNSAwIDAgMC01LjUgNy4xNSIgY2xhc3M9ImNvbnRyYXN0LXN0cm9rZSIvPjxwYXRoIGQ9Im0xMC45NyAzNS41NyA1LjM4IDEyLjA3IDcuNzktMTMuNDd6IiBjbGFzcz0iY29udHJhc3QtZmlsbCIvPjwvc3ZnPg==",a="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxjaXJjbGUgY3g9IjM5LjQ3OCIgY3k9IjMuMDc4IiByPSIyOCIgY2xhc3M9ImFjY2VudC1maWxsIiB0cmFuc2Zvcm09InJvdGF0ZSg0MC41NDIpIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI1IiBkPSJtNy4wNzQgMzAuMDUzIDI5LjM5NyAxMS45ODUtMy42NzMtMzMuNDkzIiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSIyLjk5NiIgZD0iTTI0LjUwNCAyMy4yMDdhMTEuOTggMTEuOTggMCAwIDAtOS44IDcuNTA3IiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIGNvbnRyYXN0LWZpbGwiLz48cGF0aCBkPSJtMjkuODE4IDIyLjgwOC02LjE4NCA0LjYtLjU0MS04LjM2NHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+";var l=i(96897);const c=64;function u(e,t){const{accentColor:i,contrastColor:r,preMultiplyAlpha:s}=t;return e.fromData(`heading-rotate:[accent:${i},contrast:${r},size:${c}]`,(()=>new l.g(n(o,{accentColor:i,contrastColor:r,size:c}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:s})))}function d(e,t){const{accentColor:i,contrastColor:r,preMultiplyAlpha:s}=t;return e.fromData(`tilt-rotate:[accent:${i},contrast:${r},size:${c}]`,(()=>new l.g(n(a,{accentColor:i,contrastColor:r,size:c}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:s})))}},18442:(e,t,i)=>{i.d(t,{s:()=>B});var r=i(69539),n=i(59784),s=(i(81806),i(54901)),o=i(20664),a=i(9392),l=i(14487),c=i(12482),u=i(75655),d=i(68134),h=i(76931),p=i(19555),_=i(72745),g=i(43047),m=i(28608),f=i(18117),v=i(85746),x=i(33169),y=i(62577),M=i(45463),S=i(442),O=i(66470),P=i(425);class D extends v.X{constructor(e){super(e),this._location=(0,a.vt)(),this._direction=(0,a.fA)(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=(0,m.fA)(1,0,1,1),this._renderOccluded=M.m$.OccludeAndTransparent,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:z,recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:I,recreateGeometry:e=>this._recreateDrapedGeometry(e)}}get location(){return this._location}set location(e){(0,o.e)(this._location,e)||((0,o.c)(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){(0,o.e)(this._direction,e)||((0,o.c)(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){(0,o.n)(this._direction,(0,o.f)(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){(0,g.a)(e,this._color)||((0,g.c)(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}_createObject3DResources(e){const t=new P.W(this.materialParameters),i=new Array;return this._createObject3DGeometry(t,e,i),{material:t,geometries:i,forEach:e=>{e(t),i.forEach(e)}}}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,i){const[r,n]=b(e);t.addGeometry(r),t.addGeometry(n),i.push(r),i.push(n),this._updateVerticesObject3D(t)}_createDrapedResources(){const e=new P.W(this.materialParameters),t=(0,d.wB)((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}));return{material:e,geometries:this._createDrapedGeometry(e),pixelRatioHandle:t}}_recreateDrapedGeometry(e){e.geometries=this._createDrapedGeometry(e.material)}_createDrapedGeometry(e){const t=b(e);return this._updateVerticesDraped(t),t.map((e=>new S.$(e)))}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this.view.state.camera;t.projectToScreen(this.location,j),(0,o.g)(R,this.location,this.direction),t.projectToScreen(R,G),(0,p.S8)(G,(0,p.Re)(G,G,j)),this._updateVertexAttributesObject3D(t,e,0,j,G,1),this._updateVertexAttributesObject3D(t,e,1,j,G,-1)}_updateVertexAttributesObject3D(e,t,i,r,n,s){const o=t.geometries[i],a=o.getMutableAttribute(O.r.POSITION)?.data;if(!a)return;const{start:l,end:c}=w(n,r,s,this.offset,this.width,this.length);e.unprojectFromScreen((0,h.PR)(l),R),a[0]=R[0],a[1]=R[1],a[2]=R[2],e.unprojectFromScreen((0,h.PR)(c),R),a[3]=R[0],a[4]=R[1],a[5]=R[2],t.geometryVertexAttributeUpdated(o,O.r.POSITION)}_updateVerticesDraped(e){const{view:{basemapTerrain:{overlayManager:t},state:{contentPixelRatio:i}}}=this,{location:r,width:n,length:s,offset:o}=this,a=T;a.spatialReference=t.renderer.spatialReference,a.x=r[0],a.y=r[1];const l=this.view.overlayPixelSizeInMapUnits(a)*i,c=n*l,u=s*l,d=o*l;this._updateVertexAttributesDraped(e[0],c,u,d,-1),this._updateVertexAttributesDraped(e[1],c,u,d,1)}_updateVertexAttributesDraped(e,t,i,r,n){const s=e.getMutableAttribute(O.r.POSITION)?.data;if(!s)return;const{location:o,direction:a}=this,{start:l,end:c}=w(a,o,n,r,t,i);s[0]=l[0],s[1]=l[1],s[2]=x.bi,s[3]=c[0],s[4]=c[1],s[5]=x.bi,e.invalidateBoundingInfo()}}function b(e){return[(0,y.Z8)(e,[(0,a.vt)(),(0,a.vt)()]),(0,y.Z8)(e,[(0,a.vt)(),(0,a.vt)()])]}function w(e,t,i,r,n,s){const o=(0,p.hs)(C,(0,p.hZ)(C,e[1]*i,e[0]*-i),r+n/2),a=(0,p.WQ)(A,(0,p.WQ)(A,(0,p.WQ)(A,t,(0,p.hs)(A,e,s/2)),o),o);return{start:a,end:(0,p.WQ)(N,a,(0,p.hs)(N,e,-s))}}function z(e){e.geometries.length=0}function I(e){e.pixelRatioHandle.remove(),e.geometries=[]}const R=(0,a.vt)(),C=(0,_.vt)(),A=(0,_.vt)(),N=(0,_.vt)(),j=(0,h.gs)(),G=(0,h.gs)(),T=(0,f.T)(0,0,void 0,null);var Z=i(83574),E=i(47996),H=i(57662),L=i(23862),F=i(63078),k=i(99791),W=i(9730),U=i(30484),q=i(23543),Y=i(20578),$=i(23241),Q=i(56572);class V{draw(e,t){const i=function(e){const t=[];for(const i of e){let e=!0;for(const r of t)if(i.equals(r)){e=!1;break}e&&t.push(i)}return t}(e),r=this.sortUniqueHints(i),n=[];for(const s of r)s instanceof U.v&&n.push(this.visualizeIntersectionPoint(s,t)),s instanceof q.c&&n.push(this.visualizeLine(s,t)),s instanceof Y.r&&n.push(this.visualizeParallelSign(s,t)),s instanceof Q.l&&n.push(this.visualizeRightAngleQuad(s,t)),s instanceof $._&&n.push(this.visualizePoint(s,t));return(0,s.vE)(n)}sortUniqueHints(e){return e}}var X=i(17072);class B extends V{sortUniqueHints(e){return e.sort(((e,t)=>(t instanceof q.c?t.length:0)-(e instanceof q.c?e.length:0)))}visualizeIntersectionPoint(e,t){const{spatialReference:i,view:r}=t,n=J(t);return(0,s.DQ)(new Z.l({view:r,primitive:"circle",geometry:(0,L.io)(e.intersectionPoint,i),elevationInfo:e.isDraped?c.Tq:c.qt,size:20,outlineSize:2,color:n.intersectionPointColor,outlineColor:n.intersectionPointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizePoint(e,t){const{view:i,spatialReference:r}=t,n=J(t),o=K(e.point,e.domain,t);return(0,s.DQ)(new Z.l({view:i,primitive:"circle",geometry:(0,L.io)(o,r),elevationInfo:ee(e),size:20,outlineSize:2,color:n.pointColor,outlineColor:n.pointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizeLine(e,t){const{view:i,spatialReference:r}=t,n=J(t),o=K(e.lineStart,e.domain,t),a=K(e.lineEnd,e.domain,t);return(0,s.DQ)(function(e,t,i,r,n,s,o){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],c=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];const d=te(t,r,n,s,a),h=te(i,r,n,s,a),p=new u.U({view:s,extensionType:u.A.FADED,start:d,end:h,isDraped:a,color:o.lineColor,renderOccluded:a?M.m$.OccludeAndTransparent:M.m$.Opaque,renderGroup:H.O7.SnappingHint,isDecoration:!0});switch(e){case W.H3.TARGET:p.width=F.N.lineHintWidthTarget,p.fadedExtensions={start:0,end:F.N.lineHintFadedExtensions};break;case W.H3.REFERENCE_EXTENSION:p.width=F.N.lineHintWidthReference,p.fadedExtensions={start:0,end:0};break;case W.H3.REFERENCE:p.width=F.N.lineHintWidthReference,p.fadedExtensions={start:l?F.N.lineHintFadedExtensions:0,end:c?F.N.lineHintFadedExtensions:0}}return p.attached=!0,p}(e.type,o,a,r,ee(e),i,n,e.isDraped,e.fadeLeft,e.fadeRight))}visualizeParallelSign(e,t){const{view:i,spatialReference:r}=t,n=J(t),{isDraped:a}=e,l=ee(e),c=K(e.lineStart,e.domain,t),u=K(e.lineEnd,e.domain,t),d=te(c,r,l,i,a),h=te(u,r,l,i,a),p=(0,o.o)(h,d,h,.5),_=new D({view:i,attached:!1,offset:F.N.parallelLineHintOffset,length:F.N.parallelLineHintLength,width:F.N.parallelLineHintWidth,color:n.parallelSignColor,location:p,renderOccluded:a?M.m$.OccludeAndTransparent:M.m$.Opaque,isDraped:a,renderGroup:H.O7.SnappingHint,isDecoration:!0});return _.setDirectionFromPoints(d,p),_.attached=!0,(0,s.DQ)(_)}visualizeRightAngleQuad(e,t){const{view:i,spatialReference:r}=t,n=J(t),o=ee(e),{isDraped:a}=e,l=K(e.previousVertex,e.domain,t),c=K(e.centerVertex,e.domain,t),u=K(e.nextVertex,e.domain,t),d=te(l,r,o,i,a),h=te(c,r,o,i,a),p=te(u,r,o,i,a);return(0,s.DQ)(new E.n({view:i,attached:!0,color:a?n.rightAngleColorDraped:n.rightAngleColor,renderOccluded:a?M.m$.OccludeAndTransparent:M.m$.Transparent,outlineRenderOccluded:a?M.m$.OccludeAndTransparent:M.m$.Opaque,outlineColor:n.rightAngleOutlineColor,outlineSize:F.N.rightAngleHintOutlineSize,size:F.N.rightAngleHintSize,isDraped:a,geometry:{previous:d,center:h,next:p},renderGroup:H.O7.SnappingHint,isDecoration:!0}))}}function J(e){const{effectiveTheme:t}=e.view,i=r.A.toUnitRGBA(t.accentColor),s=[0,0,0,0];return{intersectionPointColor:s,intersectionPointOutlineColor:i,pointColor:s,pointOutlineColor:i,lineColor:i,lineOutlineColor:void 0,parallelSignColor:i,rightAngleColor:i,rightAngleColorDraped:r.A.toUnitRGBA((0,n._L)(t.accentColor,.5)),rightAngleOutlineColor:i}}function K(e,t,i){let{selfSnappingZ:r,view:n,spatialReference:s}=i;return t&k.n.SELF&&(0,L.Ex)(e)&&null!=r?(0,L.FH)(e,r,n,s):e}function ee(e){return e.isDraped?c.Tq:c.qt}function te(e,t,i,r,n){const s=(0,a.vt)();if(n){const i=r.basemapTerrain.overlayManager.renderer.spatialReference;(0,l.F)(e,t,s,i)}else(0,X.XG)(e,t,i,r,s);return s}},83574:(e,t,i)=>{i.d(t,{l:()=>v});var r=i(15941),n=i(20664),s=i(9392),o=i(43047),a=i(55855),l=i(14487),c=i(42294),u=i(75762),d=i(32314),h=i(67425),p=i(49296),_=i(72900),g=i(62577),m=i(66470),f=i(84248);class v extends d.X{constructor(e){super(e),this._material=null,this._texture=null,this._geometry=null,this._size=3,this._color=(0,a.fA)(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive="square",this._outlineSize=1,this._outlineColor=(0,a.fA)(1,1,1,1),this._elevationInfo=null,this.applyProperties(e)}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?this.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){(0,o.a)(e,this._color)||((0,o.c)(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,this.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,o.a)(e,this._outlineColor)||((0,o.c)(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}_updateMaterial(){this._material&&this._material.setParameters(this._materialParameters)}_updateSizeAttribute(){const e=this.object;if(null==e)return;const t=e.geometries[0];if(null==t)return;const i=t.getMutableAttribute(m.r.SIZE).data,r=this._geometrySize;i[0]=r,i[1]=r,e.geometryVertexAttributeUpdated(e.geometries[0],m.r.SIZE)}get _materialParameters(){return{color:this._color,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:(0,_.ny)(this._primitive),distanceFieldBoundingBox:y,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:this._texture?.id,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled,isDecoration:this.isDecoration}}get _geometrySize(){return this._size/x}createExternalResources(){this._texture=(0,_.sZ)(this._primitive,this._preferredTextureSize),this._material=new f.R(this._materialParameters);const e=this.view._stage;this._texture.load(e.renderView.renderingContext),e.add(this._texture)}destroyExternalResources(){this._texture&&(this.view._stage.remove(this._texture),this._texture.dispose(),this._texture=null),this._material=null}createGeometries(e){const t=this._createRenderGeometry();null!=t&&e.addGeometry(t)}forEachExternalMaterial(e){this._material&&e(this._material)}get _preferredTextureSize(){return(0,r.qE)(2*this._geometrySize,16,128)}calculateMapBounds(e){const t=this.object?.geometries[0];if(!t)return!1;const i=t.attributes.get(m.r.POSITION).data;return(0,l.F)(i,this.view.renderCoordsHelper.spatialReference,M,this.view.spatialReference),(0,c.Hq)(e,M),!0}_createRenderGeometry(){const{geometry:e,_material:t}=this;if(null==e||null==t)return null;const{renderCoordsHelper:i,elevationProvider:r}=this.view,s=(0,h.nG)(e,r,p.F.fromElevationInfo(this.elevationInfo),i),o=(0,n.s)(u.rq.get(),e.x,e.y,s),a=u.rq.get();(0,l.F)(o,e.spatialReference,a,i.spatialReference);const c=this._geometrySize;return(0,g.DJ)(t,null,a,null,[c,c],[0,0,0,1])}}const x=_.CN,y=[x/2,x/2,1-x/2,1-x/2],M=(0,s.vt)()},47996:(e,t,i)=>{i.d(t,{n:()=>S});var r=i(68134),n=i(34761),s=i(13191),o=i(20664),a=i(9392),l=i(43047),c=i(55855),u=i(75762),d=i(18117),h=i(85746),p=i(33169),_=i(50468),g=i(51799),m=i(62577),f=i(45463),v=i(442),x=i(66470),y=i(76956),M=i(425);class S extends h.X{constructor(e){super(e),this._maxSize=0,this._position=(0,a.vt)(),this._up=(0,a.vt)(),this._right=(0,a.vt)(),this._renderOccluded=f.m$.OccludeAndTransparent,this._color=(0,c.fA)(1,0,0,1),this._outlineColor=(0,c.fA)(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=f.m$.Opaque,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:()=>{},cameraChanged:()=>this._updateTransformObject3D()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:O}}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){(0,l.c)(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,l.c)(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry(e){let{previous:t,center:i,next:r}=e;this._maxSize=Math.min((0,o.p)(i,t),(0,o.p)(i,r))/3,(0,o.n)(this._up,(0,o.f)(this._up,t,i)),(0,o.n)(this._right,(0,o.f)(this._right,r,i)),(0,o.c)(this._position,i),this.recreateGeometry()}_createObject3DResources(e){const t=new y.v(this._quadMaterialParameters),i=0===this._outlineSize?void 0:new M.W(this._outlineMaterialParameters);return this._createObject3DGeometries(e,t,i),{quadMaterial:t,outlineMaterial:i,forEach:e=>{e(t),i&&e(i)}}}_createObject3DGeometries(e,t,i){if((0,o.e)(this._up,a.uY)&&(0,o.e)(this._right,a.uY))return;const r=this._createGeometries(t,i);for(const n of r)e.addGeometry(n);this._updateTransformObject3D(e)}_createDrapedResources(){const e=new y.v(this._quadMaterialParameters),t=0===this._outlineSize?void 0:new M.W(this._outlineMaterialParameters),i=this._createGeometries(e,t).map((e=>new v.$(e)));return this._setTransformDraped(i),{quadMaterial:e,outlineMaterial:t,geometries:i,pixelRatioHandle:(0,r.wB)((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}))}}_createGeometries(e,t){const{up:i,right:r,corner:n}=this._getVertices(),s=function(e,t,i,r){return new g.V(r,[[x.r.POSITION,new _.n([0,0,0,...t,...e,...i],[0,1,2,1,2,3],3,!0)]])}(i,r,n,e);return t?[s,(0,m.Z8)(t,[i,n,r])]:[s]}_getVertices(){let e=this._up,t=this._right;const i=(0,o.g)(u.rq.get(),e,t);return this.isDraped&&(e=(0,o.c)(u.rq.get(),e),t=(0,o.c)(u.rq.get(),t),e[2]=0,t[2]=0,i[2]=0),{up:e,right:t,corner:i}}_updateTransform(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}_updateTransformObject3D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.object3dResources.object;if(!e)return;const t=this.view.state.camera,i=this._size*t.computeScreenPixelSizeAt(this._position),r=Math.min(this._maxSize,i);(0,n.kN)(P,this._position),(0,n.hs)(P,P,[r,r,r]),e.transformation=P}_setTransformDraped(e){if(0===e.length)return;const{view:{basemapTerrain:{overlayManager:t},state:{contentPixelRatio:i}}}=this,{_position:r,_size:s}=this,a=(0,o.c)(u.rq.get(),r);a[2]=p.bi;const l=D;l.spatialReference=t.renderer.spatialReference,l.x=a[0],l.y=a[1];const c=s*(this.view.overlayPixelSizeInMapUnits(l)*i),d=Math.min(this._maxSize,c);(0,n.kN)(P,a),(0,n.hs)(P,P,[d,d,1]);for(const n of e)n.transformation=P}get _quadMaterialParameters(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateQuadMaterial(){this.object3dResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters),this.drapedResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}_updateOutlineMaterial(){this.object3dResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters),this.drapedResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters)}}function O(e){e.pixelRatioHandle.remove(),e.geometries=[]}const P=(0,s.vt)(),D=(0,d.T)(0,0,void 0,null)},85937:(e,t,i)=>{i.d(t,{I:()=>g});var r=i(20664),n=i(9392),s=i(43047),o=i(55855),a=i(32314),l=i(49296),c=i(44815),u=i(67425);var d=i(83490),h=i(62577),p=i(45463),_=i(84294);class g extends a.X{constructor(e){super(e),this.view=null,this._renderOccluded=p.m$.OccludeAndTransparent,this._vertices=null,this._spatialReference=null,this._color=(0,o.ci)([1,127/255,0,1]),this._size=11,this._outlineColor=(0,o.ci)([0,0,0,.5]),this._outlineSize=1,this._elevationInfo=null,this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){(0,s.a)(e,this._color)||((0,s.c)(this._color,e),this._updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,s.a)(e,this._outlineColor)||((0,s.c)(this._outlineColor,e),this._updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get _vertexMaterialParameters(){return{color:this._color,screenSizeScale:this.size,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}get _vertexOutlineMaterialParameters(){return{color:this._outlineColor,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters)}_updateOutlineMaterial(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters)}_createRenderGeometries(){const e=this.vertices;if(null==e||0===e.length)return[];const t=function(e,t,i,r,n){const s=(0,c.jh)(3*e.length),o=(0,c.jh)(s.length);e.forEach(((e,t)=>{s[3*t]=e[0],s[3*t+1]=e[1],s[3*t+2]=e.length>2?e[2]:0}));const a=(0,u.au)(s,t,0,o,0,s,0,s.length/3,i,r,n),l=null!=a;return{numVertices:e.length,position:s,mapPositions:o,projectionSuccess:l,sampledElevation:a}}(e,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.F.fromElevationInfo(this.elevationInfo)),i=[],n=t.numVertices,s=t.position;for(let o=0;o<n;++o){const e=(0,r.s)(m,s[3*o],s[3*o+1],s[3*o+2]),t=f(this._vertexMaterial,.5,e),n=f(this._vertexOutlineMaterial,.5,e);i.push({vertexGeometry:t,vertexOutlineGeometry:n})}return i}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:i,vertexOutlineGeometry:r}of t)e.addGeometry(i),e.addGeometry(r)}createExternalResources(){this._vertexMaterial=new _.A({...this._vertexMaterialParameters,writeDepth:!0,cullFace:d.s2.Back,screenSizeEnabled:!0}),this._vertexOutlineMaterial=new _.A({...this._vertexOutlineMaterialParameters,forceTransparentMode:!0,writeDepth:!0,cullFace:d.s2.Front,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this._vertexMaterial=null,this._vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial)}}const m=(0,n.vt)();function f(e,t,i){return(0,h.CM)(e,t,16,16,{offset:i})}},13284:(e,t,i)=>{i.d(t,{e:()=>r});class r{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ,this.drawConstraints=e.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}},61237:(e,t,i)=>{i.d(t,{L:()=>h});var r=i(30726),n=i(50346),s=i(68134),o=i(74e3),a=i(32535),l=i(12482),c=i(17046),u=i(13284),d=i(59752);function h(e){let{predicate:t=()=>!0,snappingManager:i,snappingContext:a,updatingHandles:h,useZ:f=!0}=e;const v=new c.rh;if(null==i)return{snappingStep:[m,v],cancelSnapping:m};let x,y=null,M=null,S=null;const O=()=>{y=(0,r.DC)(y),i.doneSnapping(),M?.frameTask.remove(),M=null,x=(0,r.xt)(x),S=null},P=(D=i,b=f,w=v,(0,n.sg)((async(e,t)=>{let{frameTask:i,point:r,scenePoint:n,context:s,event:a,delta:l,getLastState:c}=e;const u=await i.schedule((()=>D.snap({point:r,scenePoint:n,context:s,signal:t})),t);if(u.valid){let e=await i.schedule((()=>u.apply()),t);const n=c();null!=n.point&&r!==n.point&&(e=D.update({point:n.point,scenePoint:n.scenePoint,context:s})),null!=n.updatePoint&&(0,o.CI)(e,n.updatePoint)||(g(a.mapEnd,e,l,b),w.execute(a))}})));var D,b,w;let z=null,I=null,R=null;return{snappingStep:[e=>{if(!t(e))return e;const{action:r}=e;if("start"===r){const{info:t}=e,r=function(e){return"3d"===e.type?e.resourceController.scheduler.registerTask(d.W6.SNAPPING):d.nu}(i.view);if(M=function(e,t,i){return{context:new u.e({editGeometryOperations:e.editGeometryOperations,elevationInfo:e.elevationInfo,pointer:e.pointer,vertexHandle:null!=t.info?t.info.handle:null,excludeFeature:e.excludeFeature,feature:e.feature,visualizer:e.visualizer}),originalPos:null!=t.snapOrigin?e.coordinateHelper.vectorToDehydratedPoint(t.snapOrigin):t.mapStart,originalScenePos:null!=t.scenePoints?t.scenePoints.sceneStart:null,frameTask:i}}(a,e,r),M.context.selfSnappingZ=null,!f&&null!=t){const e=function(e,t){if(!e.hasZ())return null;const i=t.vertices;let r=null;for(const n of i){const t=e.getZ(n.pos);if(null!=r&&null!=t&&Math.abs(t-r)>1e-6)return null;null==r&&(r=t)}return r}(a.coordinateHelper,t.handle.component);null!=e&&(M.context.selfSnappingZ={value:e,elevationInfo:a.elevationInfo??l.qt})}}if(null!=M){const{context:t,originalScenePos:o,originalPos:a}=M,{mapEnd:l,mapStart:c,scenePoints:u}=e,d=p(a,_(l,c)),m=_(c,a),v={...e,action:"update"},O=M.context,D=function(e,t){return null==e||null==t?null:p(e,_(t.sceneEnd,t.sceneStart))}(o,u),b=i.update({point:d,scenePoint:D,context:t});if(R=b,g(l,b,m,f),z=d,I=D,"end"!==r){const{frameTask:e}=M;null==y&&(y=new AbortController),S=t=>{h.addPromise((0,n.QZ)(P({frameTask:e,event:v,context:O,point:d,scenePoint:D,delta:m,getLastState:()=>({point:z,scenePoint:I,updatePoint:t.forceUpdate?null:R})},y.signal)))},S({forceUpdate:!1}),null==x&&(x=(0,s.wB)((()=>i.options.effectiveEnabled),(()=>S?.({forceUpdate:!0}))))}}return"end"===r&&O(),e},v],cancelSnapping:e=>(O(),e)}}function p(e,t){let[i,r,n]=t;const s=(0,a.EL)(e);return s.x+=i,s.y+=r,s.hasZ&&(s.z+=n),s}function _(e,t){const i=e.hasZ&&t.hasZ?e.z-t.z:0;return[e.x-t.x,e.y-t.y,i]}function g(e,t,i,r){let[n,s,o]=i;e.x=t.x+n,e.y=t.y+s,r&&e.hasZ&&t.hasZ&&(e.z=t.z+o)}function m(e){return e}},14318:(e,t,i)=>{i.d(t,{O:()=>u});var r=i(35143),n=i(91967),s=i(30726),o=i(50346),a=i(46053),l=(i(81806),i(76460),i(47249),i(85842)),c=i(59752);let u=class extends n.A{constructor(e){super(e),this.constrainResult=e=>e,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=(0,o.sg)((async(e,t,i,r)=>{const n=this._frameTask;if(null==n)return;const s=await n.schedule((()=>t.snap({...e,context:i,signal:r})),r);s.valid&&await n.schedule((()=>{this.stagedPoint=s.apply(),e!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=t.update({...this._snapPoints,context:i}))}),r)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(e){this._stagedPoint=this.constrainResult(e)}initialize(){const e="3d"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=e?e.registerTask(c.W6.SNAPPING):c.nu}destroy(){this._abortController=(0,s.DC)(this._abortController),this._frameTask=(0,s.xt)(this._frameTask)}update(e,t,i){this._snapPoints=e;const{point:r,scenePoint:n}=e,s=t.update({point:r,scenePoint:n,context:i});return this.stagedPoint=s,s}async snap(e,t,i){const{point:r,scenePoint:n}=e;return this.stagedPoint=t.update({point:r,scenePoint:n,context:i}),this._snapPoints=e,null==this._abortController&&(this._abortController=new AbortController),this._snap(e,t,i,this._abortController.signal)}async snapAgainNearPreviousMapPoint(e,t){null!=this._snapPoints&&await this.snap(this._snapPoints,e,t)}abort(){this._abortController=(0,s.DC)(this._abortController),this._snapPoints=null}};(0,r._)([(0,a.MZ)({constructOnly:!0})],u.prototype,"view",void 0),(0,r._)([(0,a.MZ)()],u.prototype,"stagedPoint",null),(0,r._)([(0,a.MZ)()],u.prototype,"constrainResult",void 0),(0,r._)([(0,a.MZ)()],u.prototype,"_stagedPoint",void 0),u=(0,r._)([(0,l.$)("esri.views.interactive.snapping.SnappingOperation")],u)},23241:(e,t,i)=>{i.d(t,{_:()=>s});var r=i(20664),n=i(64753);class s extends n.m{constructor(e,t,i){super(t,i),this.point=e}equals(e){return e instanceof s&&(0,r.e)(this.point,e.point)}}},68655:(e,t,i)=>{i.d(t,{Do:()=>l,Kt:()=>a,ob:()=>o});var r=i(9392),n=i(29772),s=i(23739);function o(e){return(0,s.mh)(e)??(0,n.Xg)(e)}function a(e,t){return(0,s.Og)(e,t)??(0,n.ll)(e,t)}function l(e,t,i){return c[0]=e[0],c[1]=e[1],c[2]=3===e.length?e[2]:0,u[0]=t[0],u[1]=t[1],u[2]=3===t.length?t[2]:0,(0,s.n3)(c,u,i)??(0,n.sT)(c,u,i)}const c=(0,r.vt)(),u=(0,r.vt)()}}]);
//# sourceMappingURL=3555.570591b1.chunk.js.map