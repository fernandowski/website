{"version":3,"file":"static/js/7318.a1fe2635.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/PointRenderer.glsl.js","../node_modules/@arcgis/core/core/workers/WorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{numberMaxFloat32 as e}from\"../core/mathUtils.js\";import{multiply as i,fromTranslation as o}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as t}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as s}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s as a}from\"./vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as c,positiveInfinity as l}from\"../geometry/support/aaBoundingBox.js\";import{ShaderOutput as p}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SlicePlaneParameters as d,SliceDraw as m}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{RgbaFloatEncoding as g}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float2DrawUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{Float2PassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3DrawUniform as x}from\"../views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js\";import{NoParameters as v,glsl as h}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4DrawUniform as w}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js\";import{Matrix4PassUniform as z}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as b}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as M}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";class j extends v{constructor(){super(...arguments),this.clipBox=c(l),this.useFixedSizes=!1,this.useRealWorldSymbolSizes=!1,this.scaleFactor=1,this.minSizePx=0,this.size=0,this.sizePx=0}get fixedSize(){return this.drawScreenSpace?this.sizePx:this.size}get screenMinSize(){return this.useFixedSizes?0:this.minSizePx}get drawScreenSpace(){return this.useFixedSizes&&!this.useRealWorldSymbolSizes}}class P extends d{constructor(e,i,o){super(e),this.origin=e,this.isLeaf=i,this.splatSize=o}}function y(r){const s=new b,n=r.output===p.Color,c=r.output===p.Highlight,{vertex:l,fragment:d}=s;return s.include(m,r),s.attributes.add(M.POSITION,\"vec3\"),s.attributes.add(M.COLOR,\"vec3\"),l.uniforms.add(new w(\"modelView\",((e,r)=>i(R,r.camera.viewMatrix,o(R,e.origin)))),new z(\"proj\",((e,i)=>i.camera.projectionMatrix)),new u(\"screenMinMaxSize\",((e,i,o)=>t(F,o.useFixedSizes?0:o.minSizePx*i.camera.pixelRatio,O(e.isLeaf)*i.camera.pixelRatio))),r.useFixedSizes?new S(\"pointScale\",((e,i)=>t(F,e.fixedSize*i.camera.pixelRatio,i.camera.fullHeight))):new u(\"pointScale\",((e,i,o)=>t(F,e.splatSize*o.scaleFactor*i.camera.pixelRatio,i.camera.fullHeight/i.camera.pixelRatio)))),r.clippingEnabled?l.uniforms.add(new x(\"clipMin\",((e,i,o)=>a(B,o.clipBox[0]-e.origin[0],o.clipBox[1]-e.origin[1],o.clipBox[2]-e.origin[2]))),new x(\"clipMax\",((e,i,o)=>a(B,o.clipBox[3]-e.origin[0],o.clipBox[4]-e.origin[1],o.clipBox[5]-e.origin[2])))):(l.constants.add(\"clipMin\",\"vec3\",[-e,-e,-e]),l.constants.add(\"clipMax\",\"vec3\",[e,e,e])),n&&s.varyings.add(\"vColor\",\"vec3\"),l.code.add(h`\n    void main(void) {\n      // Move clipped points outside of clipspace\n      if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||\n        position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      if (rejectBySlice(position)) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      // Position in camera space\n      vec4 camera = modelView * vec4(position, 1.0);\n\n      float pointSize = pointScale.x;\n      vec4 position = proj * camera;\n     ${r.drawScreenSize?h`\n      float clampedScreenSize = pointSize;`:h`\n      float pointRadius = 0.5 * pointSize;\n      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n      vec4 positionOffset = proj * cameraOffset;\n      float radius = abs(positionOffset.y - position.y);\n      float viewHeight = pointScale.y;\n      // screen diameter = (2 * r / w) * (h / 2)\n      float screenPointSize = (radius / position.w) * viewHeight;\n      float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);\n      // Shift towards camera, to move rendered point out of terrain i.e. to\n      // the camera-facing end of the virtual point when considering it as a\n      // 3D sphere.\n      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n      position = proj * camera;`}\n\n     gl_PointSize = clampedScreenSize;\n     gl_Position = position;\n\n     ${n?h`vColor = color;`:\"\"}\n    }\n  `),d.include(g,r),c&&s.include(f,r),d.code.add(h`\n    void main(void) {\n        vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n        float r2 = dot(vOffset, vOffset);\n\n        if (r2 > 0.25) {\n          discard;\n        }\n        ${c?h`outputHighlight();`:\"\"}\n        ${n?h`fragColor = vec4(vColor, 1.0);`:\"\"}\n    }\n  `),s}function O(e){return e?256:64}const R=r(),B=n(),F=s(),_=Object.freeze(Object.defineProperty({__proto__:null,PointRendererDrawParameters:P,PointRendererPassParameters:j,build:y,getMaxPointSizeScreenspace:O},Symbol.toStringTag,{value:\"Module\"}));export{j as P,P as a,_ as b,y as c,O as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import s from\"../Logger.js\";import{throwIfAborted as r}from\"../promiseUtils.js\";import{open as i}from\"./workers.js\";class h{constructor(e,t,r,h,o={}){this._mainMethod=t,this._transferLists=r,this._listeners=[],this._promise=i(e,{...o,schedule:h}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,o.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>s.getLogger(\"esri.core.workers.WorkerHandle\").error(`Failed to initialize ${e} worker: ${t}`)))}on(s,r){const i={removed:!1,eventName:s,callback:r,threadHandle:null};return this._listeners.push(i),this._connectListener(i),t((()=>{i.removed=!0,e(this._listeners,i),this._thread&&null!=i.threadHandle&&i.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,s){if(this._thread){const r=this._transferLists[e],i=r?r(t):[];return this._thread.invoke(e,t,{transferList:i,signal:s})}return this._promise?this._promise.then((()=>(r(s),this.invokeMethod(e,t,s)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{h as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as s}from\"./support/LayerViewPerformanceInfo.js\";class e extends s{constructor(s,e,o,r,i){super(s,e,-1,o,r),this.queue=i}}class o{constructor(s,e,o,r){this.loading=s,this.indexLoading=e,this.processing=o,this.idleProcessing=r}}export{e as PointCloudLayerViewPerformanceInfo,o as QueuePerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as t}from\"../../../core/workers/WorkerHandle.js\";class r extends t{constructor(t){super(\"PointCloudWorker\",\"transform\",{transform:t=>u(t)},t)}}function u(t){const r=[t.geometryBuffer];if(null!=t.primaryAttributeData&&t.primaryAttributeData.buffer&&r.push(t.primaryAttributeData.buffer),null!=t.modulationAttributeData&&t.modulationAttributeData.buffer&&r.push(t.modulationAttributeData.buffer),null!=t.filterAttributesData)for(const u of t.filterAttributesData)null!=u&&u.buffer&&r.push(u.buffer);for(const u of t.userAttributesData)u.buffer&&r.push(u.buffer);return r}export{r as PointCloudWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{m as e}from\"../../../../chunks/vec32.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderObb(t.remove[0]).center,h=l.getRenderObb(r.remove[0]).center;return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getSphericalPCPF as e}from\"../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{create as t,contains as s,intersects as n}from\"../../../../geometry/support/aaBoundingBox.js\";class i{constructor(t,s,n){this._pages=[],this.pageSize=0,this._nodeSR=t,this._renderSR=s,this._renderSRSphericalPCPF=e(s),this.pageSize=n}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);r(t,this._nodeSR,this._renderSR,s,this._renderSRSphericalPCPF),this._pages[e]={nodes:t,parents:new Uint32Array(this.pageSize)},p(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)].obbInRenderSR}setRenderObb(e,t){const s=this.pageSize;this._pages[a(e,s)].nodes[h(e,s)].obbInRenderSR.copy(t)}getParentId(e){const t=this.pageSize;return this._pages[a(e,t)].parents[h(e,t)]}hasNodes(e,t){const s=a(e,this.pageSize),n=a(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const e={index:this,queue:[],masks:[],tempAabb:t()};return(t,s)=>o(e,t,s)}}function o(e,t,i){const o=e.index;if(!o.hasNodes(0,1))return;const r=e.queue;r.length=0,r.push(0);const p=e.masks;for(p.length=0,p.push(0);r.length>0;){const h=r.pop();let g=p.pop();const l=o.getNode(h),c=o.getRenderObb(h);let u=!0;if(null!=t.clippingBox){const i=1<<t.frustum.length;g&i||(c.toAaBoundingBox(e.tempAabb),s(t.clippingBox,e.tempAabb)?g|=i:n(t.clippingBox,e.tempAabb)||(u=!1))}for(let e=0;e<t.frustum.length&&u;e++){const s=1<<e;if(!(g&s)){const n=c.intersectPlane(t.frustum[e]);n>0?u=!1:n<0&&(g|=s)}}if(i.predicate(h,l,u)){const e=l.firstChild,t=l.childCount;let s=!1;const n=a(e,o.pageSize),c=a(e+t-1,o.pageSize);for(let r=n;r<=c;r++)if(!o.hasPage(r)){i.pageMiss(h,r),s=!0;break}if(!s)for(let i=0;i<t;i++)r.push(e+i),p.push(g)}}}function r(e,t,s,n,i){for(let o=0;o<e.length;o++){const r=e[o];r.obb.transform(r.obbInRenderSR,t,s,n,i)}}function p(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[a(n,t)].nodes[h(n,t)];for(let o=0;o<i.childCount;o++){const r=i.firstChild+o;null!=e[a(r,t)]&&(e[a(r,t)].parents[h(r,t)]=n,s.push(r))}}}function a(e,t){return e/t|0}function h(e,t){return e%t}export{i as PagedNodeIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?l=u(a,e.field):\"point-cloud-rgb\"===n?(l=r(a,e.field),i=null!=l):(l=r(a,\"RGB\"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!!e?.type&&\"fixed-size\"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return t?{name:e,storageInfo:null,useElevation:t}:{name:e,storageInfo:n,useElevation:t}}return\"elevation\"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,l as rendererUsesFixedSizes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(o){super(o),this.pointCloudMetadata=null}};o([s({constructOnly:!0,clonable:\"reference\"})],e.prototype,\"pointCloudMetadata\",void 0),e=o([t(\"esri.views.3d.layers.i3s.PointGraphic\")],e);export{e as PointGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{Object3DState as t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as i}from\"../../webgl-engine/lib/Object3DStateID.js\";class h{constructor(e){this._context=e,this._highlights=new Set}get empty(){return 0===this._highlights.size}destroy(){this._highlights=null}add(t){const i=new s(t);return this._highlights.add(i),this._enableSet(i),e((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class s{constructor(e){this.id=new i(t.Highlight),this.ids=new Map,this.enabled=!1;for(const t of e)null!=t&&this._add(t.nodeId,t.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{h as PointHighlights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{stencilWriteMaskOn as s,stencilBaseAllZerosParams as n}from\"../lib/StencilUtils.js\";import{b as l}from\"../../../../chunks/PointRenderer.glsl.js\";import{CompareFunction as u,SpecialDrawBuffers as a}from\"../../../webgl/enums.js\";import{makePipelineState as c,defaultDepthWriteParams as m,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class d extends t{constructor(e,r,t){super(e,r,t)}initializeProgram(e){return new o(e.rctx,d.shader.get().build(this.configuration),i)}initializePipeline(){return c({depthTest:{func:u.LESS},depthWrite:m,colorWrite:h,stencilWrite:this.configuration.hasOccludees?s:null,stencilTest:this.configuration.hasOccludees?n:null,drawBuffers:this.configuration.output===e.Depth?{buffers:[a.NONE]}:null})}}d.shader=new r(l,(()=>import(\"./PointRenderer.glsl.js\")));export{d as PointRendererTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends i{constructor(){super(...arguments),this.output=o.Color,this.hasSlicePlane=!1,this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1}}e([t({count:o.COUNT})],r.prototype,\"output\",void 0),e([t()],r.prototype,\"hasSlicePlane\",void 0),e([t()],r.prototype,\"drawScreenSize\",void 0),e([t()],r.prototype,\"useFixedSizes\",void 0),e([t()],r.prototype,\"hasOccludees\",void 0),e([t()],r.prototype,\"clippingEnabled\",void 0),e([t({constValue:!0})],r.prototype,\"hasSliceInVertexProgram\",void 0);export{r as PointRendererTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{disposeMaybe as s}from\"../../../../core/maybe.js\";import t from\"../../../../core/PooledArray.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{f as n,l as o,j as a,k as l,m as h,q as c}from\"../../../../chunks/vec32.js\";import{create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as u}from\"../../../../chunks/vec42.js\";import{create as m,offset as p,contains as g,containsPoint as _,set as f,positiveInfinity as P,equals as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as S}from\"../../../../geometry/support/plane.js\";import{fromPoints as x}from\"../../../../geometry/support/ray.js\";import{PclTarget as z}from\"./Intersector.js\";import{PointHighlights as w}from\"./PointHighlights.js\";import{isDepth as R,ShaderOutput as A}from\"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SyncPrepareRenderPlugin as j}from\"../../webgl-engine/effects/RenderPlugin.js\";import{Default3D as q}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as y}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as O,StoreResults as E}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderSlot as I}from\"../../webgl-engine/lib/RenderSlot.js\";import{VertexArrayObject as v}from\"../../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as F}from\"../../webgl-engine/lib/VertexAttribute.js\";import{P as N,a as C,g as L}from\"../../../../chunks/PointRenderer.glsl.js\";import{PointRendererTechnique as T}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as H}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as M}from\"../../../webgl/BufferObject.js\";import{DataType as B,PrimitiveType as D,Usage as U}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as V}from\"../../../webgl/VertexElementDescriptor.js\";const W={positions:[new V(F.POSITION,3,B.FLOAT,0,12)],colors:[new V(F.COLOR,3,B.UNSIGNED_BYTE,0,3,!0)]};let k=class extends j{constructor(e){super(e),this.type=O.PCL,this.isGround=!1,this._passParameters=new N,this._highlights=new w({forEachNode:e=>this.forEachNode(e),addHighlight:(e,s,t)=>this._addHighlight(e,s,t),removeHighlight:(e,s)=>this._removeHighlight(e,s)}),this.produces=new Map([[I.OPAQUE_MATERIAL,e=>!(R(e)||e===A.Highlight&&this._highlights.empty)],[I.OPAQUE_NO_SSAO_DEPTH,e=>R(e)]]),this.layerUid=\"\",this._slicePlaneEnabled=!1,this._techniqueConfig=new H,this._nodes=new t}initializeRenderContext(e){this._context=e,e.requestRender()}uninitializeRenderContext(){}intersect(e,s,t,i){const r=d(),f=d(),P=d(),b=d(),w=S(),R=e.camera.perScreenPixelRatio/2,A=e.camera.near;n(f,i,t);const j=1/o(f);a(f,f,j),l(P,f),u(w,f[0],f[1],f[2],-h(f,t));const q=new ee,O=new ee,I=new Array,v=m(),F=m(this._passParameters.clipBox);p(F,-t[0],-t[1],-t[2],F),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let l=o.obb.minimumDistancePlane(w),d=o.obb.maximumDistancePlane(w);l-=J(a,l+A,this._passParameters,R,o.isLeaf),d-=J(a,d+A,this._passParameters,R,o.isLeaf);const u=d<0,m=null!=q.dist&&null!=O.dist&&q.dist<l*j&&O.dist>d*j;if(u||m)return;const S=Y(a,d+A,this._passParameters,R,o.isLeaf);if(!o.obb.intersectRay(t,f,S))return;const x=S*S;o.obb.toAaBoundingBox(v),p(v,-t[0],-t[1],-t[2],v);const z=!g(F,v);n(b,o.origin,t);const y=o.coordinates.length/3;for(let n=0;n<y;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],z&&!_(F,r))continue;const l=h(r,f),d=c(r)-l*l;if(d>x)continue;let u=l+A;const m=J(a,u,this._passParameters,R,o.isLeaf);if(l-m<0)continue;u-=m;const p=Y(a,u,this._passParameters,R,o.isLeaf);if(d>p*p)continue;const g=(l-m)*j,S=e=>(e.point=K(o,n,e.point),e.dist=g,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==q.dist||g<q.dist)&&(null==s||s(t,i,g))&&S(q),e.options.store!==E.MIN&&(null==O.dist||g>O.dist)&&(null==s||s(t,i,g))&&S(O),e.options.store===E.ALL&&(null==s||s(t,i,g))){const e=new ee;I.push(S(e))}}}));const N=e=>{const{layerUid:s,node:t,pointId:i}=e;return new z(e.point,s,i,(()=>this.createGraphic(t,i,e.point)))},C=(e,s)=>{const t=N(s);e.set(this.type,t,s.dist,s.normal)};if(se(q)){const s=e.results.min;(null==s.dist||q.dist<s.dist)&&C(s,q)}if(se(O)&&e.options.store!==E.MIN){const s=e.results.max;(null==s.dist||O.dist>s.dist)&&C(s,O)}if(e.options.store===E.ALL){const s=x(t,i);for(const t of I){const i=y(s);C(i,t),e.results.all.push(i)}}}prepareTechnique(e){return 0!==this._nodes.length&&(e.output===A.Color||R(e.output)&&e.bindParameters.slot===I.OPAQUE_NO_SSAO_DEPTH||e.output===A.Highlight)?(this._nodes.forAll((s=>{null==s.vao&&this._initNode(e,s)})),this._techniqueConfig.drawScreenSize=this._passParameters.drawScreenSpace,this._techniqueConfig.useFixedSizes=this._passParameters.useFixedSizes,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.clippingEnabled=this._clippingEnabled,this._techniqueConfig.output=e.output,this._context.techniques.releaseAndAcquire(T,this._techniqueConfig,this._technique)):null}renderNode(e,s){const t=e.rctx,i=t.bindTechnique(s,e.bindParameters,this._passParameters),r=e.output===A.Highlight;this._nodes.forAll((s=>{0===s.coordinates.length||r&&!s.highlights||(i.bindDraw(s,e.bindParameters,this._passParameters),t.bindVAO(s.vao),r?this._renderHighlightFragments(t,s):t.drawArrays(D.POINTS,0,s.coordinates.length/3))}))}_renderHighlightFragments(e,s){const t=s.highlights;if(null==t)return;let i=t[0].component,r=i+1;for(let o=1;o<t.length;o++){const s=t[o].component;if(s!==r){const t=r-i;t>0&&e.drawArrays(D.POINTS,i,t),i=s}r=s+1}const n=r-i;n>0&&e.drawArrays(D.POINTS,i,n)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){f(this._passParameters.clipBox,e||P)}get _clippingEnabled(){return!b(this._passParameters.clipBox,P,((e,s)=>e===s))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let t=null;return this._nodes.filterInPlace((i=>i.id!==e||(t=i,i.vao=s(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),t}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=s(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,s,t){e.highlights=Z(e.highlights,s,t),this._requestRender()}_removeHighlight(e,s){e.highlights=$(e.highlights,s),this._requestRender()}_initNode(e,s){const t=e.rctx;s.vao=new v(t,q,W,{positions:M.createVertex(t,U.STATIC_DRAW,s.coordinates),colors:M.createVertex(t,U.STATIC_DRAW,s.rgb)})}_requestRender(){this._context&&this._context.requestRender()}};e([i({constructOnly:!0})],k.prototype,\"createGraphic\",void 0),k=e([r(\"esri.views.3d.layers.i3s.PointRenderer\")],k);class G extends C{constructor(e,s,t,i,r,n,o,a,l=null,h=null){super(t,r,s),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=l,this.highlights=h}}function Q(e){return e.hasOwnProperty(\"splatSize\")}function Y(e,s,t,i,r){if(t.drawScreenSpace)return t.fixedSize*s*i;const n=L(r)*s*i;return t.useFixedSizes?Math.min(t.fixedSize/2,n):t.screenMinSize>0?Math.min(Math.max(t.screenMinSize*s*i,e/2),n):Math.min(e/2,n)}function J(e,s,t,i,r){return t.drawScreenSpace?0:Y(e,s,t,i,r)}function K(e,s,t){return null==t&&(t=d()),t[0]=e.origin[0]+e.coordinates[3*s],t[1]=e.origin[1]+e.coordinates[3*s+1],t[2]=e.origin[2]+e.coordinates[3*s+2],t}function X(e){return null!=e.component?e.component:-1}function Z(e,s,t){null==e&&(e=[]);const i={component:s,id:t};e.push(i);const r=X(i);let n=e.length-1;for(;n>0&&r<X(e[n-1]);)[e[n-1],e[n]]=[e[n],e[n-1]],--n;return e}function $(e,s){if(null==e)return e;const t=e.filter((e=>e.id!==s));return 0===t.length?null:t}class ee{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function se(e){return null!=e.dist&&null!=e.point&&null!=e.pointId&&null!=e.node}export{k as PointRenderer,G as PointRendererNode,Q as isPointRendererNode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import{result as i,forEach as r}from\"../../../core/asyncUtils.js\";import s from\"../../../core/Collection.js\";import{makeHandle as o}from\"../../../core/handleUtils.js\";import\"../../../core/has.js\";import n from\"../../../core/Logger.js\";import{destroyMaybe as a,abortMaybe as d}from\"../../../core/maybe.js\";import{isAbortError as l,allSettledValues as h,throwIfAborted as u}from\"../../../core/promiseUtils.js\";import{initial as p,watch as _,sync as c}from\"../../../core/reactiveUtils.js\";import{pt2px as m}from\"../../../core/screenUtils.js\";import{estimateSize as g,isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as b}from\"../../../core/accessorSupport/decorators/subclass.js\";import{m as w,c as P}from\"../../../chunks/vec32.js\";import{clone as N}from\"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{create as x}from\"../../../geometry/support/aaBoundingBox.js\";import{create as v,fromNormalAndOffset as C}from\"../../../geometry/support/plane.js\";import{CodedValue as A}from\"../../../layers/support/CodedValue.js\";import I from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as S}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as k}from\"../../../layers/support/PromiseQueue.js\";import{getElevationOffset as V}from\"../../../support/elevationInfoUtils.js\";import{LayerView3D as R}from\"./LayerView3D.js\";import{PointCloudLayerViewPerformanceInfo as D,QueuePerformanceInfo as L}from\"./PointCloudLayerViewPerformanceInfo.js\";import{PointCloudWorkerHandle as j}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as Q,checkPointCloudLayerCompatibleWithView as U}from\"./i3s/I3SUtil.js\";import{nodeDiff as W,sortFrontToBack as F,splitWorkEntries as M}from\"./i3s/LoDUtil.js\";import{PagedNodeIndex as z}from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as E,getFixedSizeAlgorithm as O,getRendererInfo as H,getFilterInfo as q,rendererUsesFixedSizes as G,getAttributeInfo as B}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as T,readGeometry as $,elevationFromPositions as J}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as K}from\"./i3s/PointGraphic.js\";import{PointRenderer as X,isPointRendererNode as Y,PointRendererNode as Z}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as ee}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as te}from\"../support/extentUtils.js\";import{computeMapPointFromVec3d as ie}from\"../support/hitTest.js\";import{ClientType as re}from\"../support/index.js\";import{Obb as se}from\"../support/orientedBoundingBox.js\";import{updatingProgress as oe}from\"../support/updatingProperties.js\";import ne from\"../../layers/LayerView.js\";import{isInEffectiveScaleRange as ae}from\"../../support/layerViewUtils.js\";import{TaskPriority as de}from\"../../support/Scheduler.js\";const le=8,he=v();let ue=class extends(ee(R(ne))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new k,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[],this.ignoresMemoryFactor=!1}get baseUrl(){return this.layer.parsedUrl?.path??\"\"}get pointScale(){const e=E(this.layer?.renderer),t=1;return null!=e?.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=O(this.layer?.renderer),t=!1;return null!=e?.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=O(this.layer?.renderer),t=0;return null!=e?.size?e.size:t}get inverseDensity(){const e=96;return this.layer?.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=H(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=q(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of S(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=x(),t=this.view.renderSpatialReference;return te(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;return e&&\"absolute-height\"===e.mode?V(e,this.layer.spatialReference):0}initialize(){const e=this.view.resourceController,t=me(e);this._worker=new j(t),this.addResolvingPromise(this._worker.promise),Q(this.layer),U(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(re.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(re.I3S_DATA),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.newCache(`pcl-${this.layer.uid}`),this._updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),p),this._updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),p),this._updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),p),this._updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),p),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this._updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.addHandles([_((()=>this.view.quality),(()=>this._setUpdateViewNeeded()),c)]),this.addResolvingPromise(i),this.when((()=>{this.addHandles([e.scheduler.registerTask(de.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this._updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),p)])}),(()=>{this._updatingHandles.removeAll(),this.removeAllHandles()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=a(this._worker),this._destroyRenderer(),this._memCache=a(this._memCache),this._codedDomainPopulationAbortController=d(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new X({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this._updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),p),this._updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),p),this._updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),p),this._renderer.minSizePx=Math.sqrt(2),this._updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),p),this._updatingHandles.add((()=>this.pointSize),(e=>{const t=m(e);this._renderer.size=e,this._renderer.sizePx=t}),p),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),p),this._updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),p)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t,s=ie(this.view,i),o=this._createGraphicAttributes(e,r);return new K({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo?.attributeValues,o=s?.valuesPerElement??1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s?.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin(this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=G(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_displayNodes(e){this._workQueue=W([...this._renderedNodes],e,this._index),F(this._workQueue,this.view.state.contentCamera.viewForward,this._index),M(this._workQueue,le,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(null==t)return void e.madeProgress();this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return null!=i?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,t){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await i(this.layer.queryCachedStatistics(r,{signal:t}));if(!1===o.ok)return;const n=o.value?.stats?.labels?.labels;n&&Array.isArray(n)&&(s.domain=new I({name:\"CLASS_CODE\",codedValues:n.map((e=>new A({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,i){const s=this._splitGraphicsPerNode(e),o=this.layer.attributeStorageInfo,n=i.map((e=>B(o,e))).filter(t),a=async(e,t)=>{const i=this._index.getNode(t);await r(n,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},d=[];return s.forEach(((e,t)=>{d.push(a(e,t))})),await Promise.allSettled(d),e}_isValidPointGraphic(e){return e instanceof K&&e.pointCloudMetadata?.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return null!=i?T({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=$(t,await this._loadGeometry(e,null));return J(i,i.length/3)}highlight(e){if(!e)return o();const t=s.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}get visibleAtCurrentScale(){return ae(this.layer.effectiveScaleRange,this.view.terrainScale)}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new z(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:se.fromJSON(t.obb),obbInRenderSR:new se,firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;const e=this.view.quality;let t=this.inverseDensity/this._lodFactor*e;const i=this.maximumPointCount*this._lodFactor*e;let r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(s/(.75*i));for(;s>i;)t*=o,r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(2);return this._displayNodes(r),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=w(s,t.eye),n=C(s,-o,he),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const h=e=>l.push(e);return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return h(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(h(e),!1)},pageMiss:(e,t)=>{h(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,e.minimumDistancePlane(r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw l(i)||n.getLogger(this).error(i),i}}async _loadAdditionalUserAttributes(e,i,r){const s=this.layer.outFields;if(!s)return[];const o=S(this.layer.fieldsIndex,s),n=new Set(e.map((e=>null!=e?e.name:null))),a=this.layer.attributeStorageInfo,d=[];for(const t of o){if(n.has(t))continue;const e=B(a,t);e&&d.push(i(e))}const l=await h(d);return u(r),l.filter(t)}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=H(this.layer),s=q(this.layer),o=i.resourceId,n=async e=>{if(!e)return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return null!=i?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),h=n(d),p=s.map((e=>e.attributeInfo)),_=p.map((e=>n(e))),c=this._loadAdditionalUserAttributes([a,d,...p],n,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(_),c]);u(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obbData:this._index.getRenderObb(e).data,elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(!t?.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",...this.layer.customParameters,token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{...this.layer.customParameters,token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._memCache.put(t.id.toString(),t,_e(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(Y(t))return t.splatSize=r,t.obb=s,P(t.origin,t.obb.center),t;const o=se.fromData(t.obbData),a=o.halfSize,d=s.halfSize,l=.01*Math.max(d[0],d[1],d[2]);if(a[0]>d[0]+l||a[1]>d[1]+l||a[2]>d[2]+l){if(this._maxLoggedBoxWarnings>0){const t=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;n.getLogger(this).warn(`Node ${e} reported bounding box too small. got ${t(s)} but points cover ${t(o)}`),0==--this._maxLoggedBoxWarnings&&n.getLogger(this).warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,o)}return new Z(e,r,N(s.center),s,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}get usedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=ce,e+=g(t.coordinates);for(const i of t.attributes){const t=i.values;f(t.buffer)&&(e+=g(t))}})),e}get unloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.usedMemory-e*ce)/t)+i*ce}get performanceInfo(){return new D(this.usedMemory,this._renderedNodes.size,[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),this.maximumPointCount,new L(this._loadingNodes.size,this._indexQueue.length,this._workQueue.length,this._idleQueue.length))}get test(){}};e([y()],ue.prototype,\"layer\",void 0),e([y()],ue.prototype,\"baseUrl\",null),e([y()],ue.prototype,\"pointScale\",null),e([y()],ue.prototype,\"useRealWorldSymbolSizes\",null),e([y()],ue.prototype,\"pointSize\",null),e([y()],ue.prototype,\"inverseDensity\",null),e([y()],ue.prototype,\"maximumPointCount\",void 0),e([y({readOnly:!0})],ue.prototype,\"availableFields\",null),e([y({readOnly:!0})],ue.prototype,\"_clippingBox\",null),e([y({readOnly:!0})],ue.prototype,\"_elevationOffset\",null),e([y({type:Boolean})],ue.prototype,\"slicePlaneEnabled\",void 0),e([y()],ue.prototype,\"updating\",void 0),e([y(oe)],ue.prototype,\"updatingProgress\",void 0),e([y({readOnly:!0})],ue.prototype,\"updatingProgressValue\",null),e([y({readOnly:!0})],ue.prototype,\"visibleAtCurrentScale\",null),ue=e([b(\"esri.views.3d.layers.PointCloudLayerView3D\")],ue);const pe=ue;function _e(e){return 5*e.coordinates.length+128}const ce=160;function me(e){return t=>e.immediate.schedule(t)}export{pe as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n"],"names":["j","v","constructor","super","arguments","this","clipBox","c","l","useFixedSizes","useRealWorldSymbolSizes","scaleFactor","minSizePx","size","sizePx","fixedSize","drawScreenSpace","screenMinSize","P","d","e","i","o","origin","isLeaf","splatSize","y","r","s","b","n","output","p","Color","Highlight","vertex","fragment","include","m","attributes","add","M","POSITION","COLOR","uniforms","w","R","camera","viewMatrix","z","projectionMatrix","u","t","F","pixelRatio","O","S","fullHeight","clippingEnabled","x","a","B","constants","varyings","code","h","drawScreenSize","g","f","_","Object","freeze","defineProperty","__proto__","PointRendererDrawParameters","PointRendererPassParameters","build","getMaxPointSizeScreenspace","Symbol","toStringTag","value","length","undefined","_mainMethod","_transferLists","_listeners","_promise","schedule","then","_thread","hasInitialize","broadcast","_connectListener","close","catch","getLogger","error","on","removed","eventName","callback","threadHandle","push","remove","destroy","invoke","invokeMethod","transferList","signal","Promise","reject","all","promise","slicePlaneEnabled","supportsHeightUnitConversion","postscript","layer","addResolvingPromise","_validateHeightModelInfo","AbortController","addHandles","abort","view","defaultsFromMap","heightModelInfoReady","heightModelInfo","prototype","queue","loading","indexLoading","processing","idleProcessing","transform","geometryBuffer","primaryAttributeData","buffer","modulationAttributeData","filterAttributesData","userAttributesData","indexOf","getParentId","pop","load","_pages","pageSize","_nodeSR","_renderSR","_renderSRSphericalPCPF","addPage","obb","obbInRenderSR","nodes","parents","Uint32Array","childCount","firstChild","hasPage","getNode","getRenderObb","setRenderObb","copy","hasNodes","forEachNodeId","createVisibilityTraverse","index","masks","tempAabb","clippingBox","frustum","toAaBoundingBox","intersectPlane","predicate","pageMiss","renderer","type","toJSON","attributeStorageInfo","field","colorModulation","rendererJSON","isRGBRenderer","primaryAttribute","modulationAttribute","filters","map","filterJSON","attributeInfo","pointSizeAlgorithm","name","attributeValues","valueType","valuesPerElement","storageInfo","useElevation","encoding","toLowerCase","pointCloudMetadata","constructOnly","clonable","_context","_highlights","Set","empty","_enableSet","_removeSet","_disableSet","delete","enabled","forEachNode","_enableSetForNode","ids","get","id","forEach","addHighlight","_disableSetForNode","removeHighlight","nodeAdded","nodeRemoved","removeAll","Map","_add","nodeId","pointId","set","initializeProgram","rctx","shader","configuration","initializePipeline","depthTest","func","LESS","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","drawBuffers","Depth","buffers","NONE","hasSlicePlane","count","COUNT","constValue","W","positions","V","FLOAT","colors","UNSIGNED_BYTE","k","PCL","isGround","_passParameters","N","_addHighlight","_removeHighlight","produces","I","OPAQUE_MATERIAL","A","OPAQUE_NO_SSAO_DEPTH","layerUid","_slicePlaneEnabled","_techniqueConfig","H","_nodes","initializeRenderContext","requestRender","uninitializeRenderContext","intersect","perScreenPixelRatio","near","q","ee","Array","forAll","minimumDistancePlane","maximumDistancePlane","J","dist","Y","intersectRay","coordinates","point","K","normal","node","options","store","E","MIN","ALL","createGraphic","C","se","results","min","max","prepareTechnique","bindParameters","slot","vao","_initNode","_clippingEnabled","techniques","releaseAndAcquire","T","_technique","renderNode","bindTechnique","highlights","bindDraw","bindVAO","_renderHighlightFragments","drawArrays","D","POINTS","component","_requestRender","addNode","removeNode","filterInPlace","clear","highlight","X","Z","filter","$","createVertex","U","STATIC_DRAW","rgb","G","pointIdFilterMap","L","Math","he","ue","ne","maximumPointCount","_renderer","_rendererAdded","_renderedNodes","_updateViewNeeded","_lodFactor","_maxLoggedBoxWarnings","_pageMultiplier","_nodeLoadEpoch","_indexQueue","_workQueue","_idleQueue","_indexPagesLoading","_loadingNodes","_recalcWork","_layerIsVisible","_codedDomainPopulationPromise","_codedDomainPopulationAbortController","_totalWork","_index","_loadingInitNodePage","_nodeIdArray","ignoresMemoryFactor","baseUrl","parsedUrl","path","pointScale","pointSize","inverseDensity","pointsPerInch","availableFields","outFields","fieldsIndex","from","_clippingBox","clippingArea","renderSpatialReference","te","_elevationOffset","elevationInfo","mode","spatialReference","initialize","resourceController","immediate","me","_worker","Q","_indexRequester","createStreamDataRequester","re","I3S_INDEX","_dataRequester","I3S_DATA","_initRenderer","_initNodePages","memoryController","_memCache","newCache","uid","_updatingHandles","_setUpdateViewNeeded","_elevationOffsetChanged","_rendererChanged","_reload","effectiveScaleRange","state","contentCamera","quality","when","scheduler","registerTask","de","POINT_CLOUD_LAYER","registerIdleStateCallbacks","_idleBegin","_idleEnd","suspended","_clearNodeState","removeAllHandles","_updateLoading","cancelLoading","_destroyRenderer","_createGraphic","_setPointsVisible","sqrt","qualitySettings","sceneService","pointCloud","lodFactor","ie","_createGraphicAttributes","pointIndexInNode","attributePointIndexInNode","epoch","geometry","sourceLayer","_encodeGraphicAttribute","values","_stage","addRenderPlugin","removeRenderPlugin","_displayNodes","sort","center","viewForward","_updateQueues","_computeWork","notifyChange","_cancelNodeLoading","_cancelIndexLoading","_ref","abortController","cancelAll","has","_ref2","_removeFromRenderer","running","runTask","_isRootNodeVisible","run","_updateWorkQueues","_processIndexQueue","_processWorkQueue","shift","_loadNodePage","done","_scheduleWorkEntry","madeProgress","_processWorkEntry","find","toString","resolve","_loadNode","_setupRendererData","_addToRenderer","_populateClassCodeCodedDomain","domain","includes","queryCachedStatistics","ok","stats","labels","isArray","codedValues","label","prepareFetchPopupFeatures","whenGraphicAttributes","_splitGraphicsPerNode","async","_loadElevationAttributeFromGeometry","resourceId","_loadAndParseAttribute","_isValidPointGraphic","allSettled","_loadAttribute","vertexCount","defaultGeometrySchema","_loadGeometry","isCollection","toArray","_graphicToPointDefinition","updatingProgressValue","canResume","isUpdating","visibleAtCurrentScale","ae","terrainScale","nodesPerPage","nodePerIndexBlock","renderCoordsHelper","_traverseVisible","_requestNodePage","fromJSON","pointCount","lodThreshold","effectiveArea","_computeNodesForMinimumDensity","_computePointCount","eye","_computeAveragePixelArea","_loadNodeAsync","_loadAdditionalUserAttributes","schema","rendererInfo","filterInfo","obbData","data","elevationOffset","inSR","outSR","_requestData","key","customParameters","token","apiKey","request","query","put","_e","hasOwnProperty","fromData","halfSize","warn","points","usedMemory","ce","unloadedMemory","reduce","performanceInfo","test","readOnly","Boolean","oe","pe","_validateFetchPopupFeatures","popupEnabled","fetchPopupFeaturesFromGraphics","associatedLayer","getObjectId","concat","EventedMixin","parent","title","fullOpacity","opacity","destroyed","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","ready","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","popupTemplate","getRequiredFields","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}