"use strict";(self.webpackChunkpersonal_website=self.webpackChunkpersonal_website||[]).push([[530],{62315:(e,t,r)=>{r.d(t,{A:()=>f});var i=r(35143),n=(r(35238),r(69098)),o=r(73582),s=r(42553),a=r(30726),c=r(46053),l=r(21403),d=(r(47249),r(81806),r(85842)),u=r(40565),p=r(37546),g=r(19247);let h=class extends((0,n.O)(s.oY)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&(0,a.CM)(this.position,e.position)&&this.width===e.width&&this.height===e.height}};(0,i._)([(0,c.MZ)({readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"type",void 0),(0,i._)([(0,c.MZ)({type:g.A}),(0,p.P)()],h.prototype,"position",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,p.P)(),(0,l.w)((e=>o.ie.normalize((0,u.GB)(e),0,!0)))],h.prototype,"heading",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,p.P)(),(0,l.w)((e=>o.ie.normalize((0,u.GB)(e),0,!0)))],h.prototype,"tilt",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0}),(0,p.P)()],h.prototype,"width",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0}),(0,p.P)()],h.prototype,"height",void 0),h=(0,i._)([(0,d.$)("esri.analysis.SlicePlane")],h);const f=h},48678:(e,t,r)=>{r.d(t,{S:()=>d,b:()=>l});var i=r(3799),n=r(58350),o=r(21390),s=r(64839),a=r(32307),c=r(66470);function l(e){const t=new a.N5,{vertex:r,fragment:l,attributes:d,varyings:u}=t;return(0,i.NB)(r,e),d.add(c.r.POSITION,"vec3"),d.add(c.r.UV0,"vec2"),u.add("vUV","vec2"),r.code.add(s.H`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`),l.uniforms.add(new n.E("backgroundColor",(e=>e.backgroundColor)),new n.E("gridColor",(e=>e.gridColor)),new o.m("gridWidth",(e=>e.gridWidth))),l.code.add(s.H`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
fragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`),t}const d=Object.freeze(Object.defineProperty({__proto__:null,build:l},Symbol.toStringTag,{value:"Module"}))},37546:(e,t,r)=>{r.d(t,{P:()=>g});var i=r(50076),n=r(53514),o=r(24387),s=r(90534),a=r(49723),c=r(19258),l=r(49140),d=r(46053),u=r(95474),p=r(79453);function g(e){const t=e?.origins??[void 0];return(r,i)=>{const n=function(e,t,r){if("resource"===e?.type)return function(e,t,r){const i=(0,c.z4)(t,r);return{type:String,read:(e,t,r)=>{const n=(0,p.r)(e,t,r);return i.type===String?n:"function"==typeof i.type?new i.type({url:n}):void 0},write:{writer(t,n,a,c){if(!c?.resources)return"string"==typeof t?void(n[a]=(0,p.t)(t,c)):void(n[a]=t.write({},c));const d=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),g=(0,p.t)(d,{...c,verifyItemRelativeUrls:c?.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},p.M.NO),b=i.type!==String&&(!(0,o.H)(this)||c?.origin&&this.originIdOf(r)>(0,l.aB)(c.origin)),w={object:this,propertyName:r,value:t,targetUrl:g,dest:n,targetPropertyName:a,context:c,params:e};c?.portalItem&&g&&!(0,s.oP)(g)?b&&e?.contentAddressed?h(w):b?function(e){const{context:t,targetUrl:r,params:i,value:n,dest:o,targetPropertyName:a}=e;if(!t.portalItem)return;const c=t.portalItem.resourceFromPath(r),l=m(n,r,t),d=(0,u.n)(l),p=(0,s.Zo)(c.path),g=i?.compress??!1;d===p?(t.resources&&f({...e,resource:c,content:l,compress:g,updates:t.resources.toUpdate}),o[a]=r):h(e)}(w):function(e){let{context:t,targetUrl:r,dest:i,targetPropertyName:n}=e;t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),i[n]=r)}(w):c?.portalItem&&(null==g||null!=(0,p.i)(g)||(0,s.w8)(g)||b)?h(w):n[a]=g}}}}(e,t,r);switch(e?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:t}=p.b;return{read:e,write:t}}}}(e,r,i);for(const e of t){const t=(0,d.rM)(r,e,i);for(const e in n)t[e]=n[e]}}}function h(e){const{targetUrl:t,params:r,value:o,context:c,dest:l,targetPropertyName:d}=e;if(!c.portalItem)return;const g=(0,p.p)(t),h=m(o,t,c);if(r?.contentAddressed&&"json"!==h.type)return void c.messages?.push(new i.A("persistable:contentAddressingUnsupported",`Property "${d}" is trying to serializing a resource with content of type ${h.type} with content addressing. Content addressing is only supported for json resources.`,{content:h}));const b=r?.contentAddressed&&"json"===h.type?(0,n.d)(h.jsonString):g?.filename??(0,a.lk)(),w=(0,s.fj)(r?.prefix??g?.prefix,b),v=`${w}.${(0,u.n)(h)}`;if(r?.contentAddressed&&c.resources&&"json"===h.type){const e=c.resources.toKeep.find((e=>{let{resource:t}=e;return t.path===v}))??c.resources.toAdd.find((e=>{let{resource:t}=e;return t.path===v}));if(e)return void(l[d]=e.resource.itemRelativeUrl)}const _=c.portalItem.resourceFromPath(v);(0,s.w8)(t)&&c.resources&&c.resources.pendingOperations.push((0,s.tk)(t).then((e=>{_.path=`${w}.${(0,u.n)({type:"blob",blob:e})}`,l[d]=_.itemRelativeUrl})).catch((()=>{})));const A=r?.compress??!1;c.resources&&f({...e,resource:_,content:h,compress:A,updates:c.resources.toAdd}),l[d]=_.itemRelativeUrl}function f(e){let{object:t,propertyName:r,updates:i,resource:n,content:o,compress:s}=e;i.push({resource:n,content:o,compress:s,finish:e=>{!function(e,t,r){"string"==typeof e[t]?e[t]=r.url:e[t].url=r.url}(t,r,e)}})}function m(e,t,r){return"string"==typeof e?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(r))}}},24387:(e,t,r)=>{function i(e){return e&&"getAtOrigin"in e&&"originOf"in e}r.d(t,{H:()=>i})},95474:(e,t,r)=>{r.d(t,{n:()=>n});var i=r(90534);function n(e){return o[function(e){return"json"===e.type?"application/json":"blob"===e.type?e.blob.type:function(e){const t=(0,i.Zo)(e);return c[t]||s}(e.url)}(e)]||a}const o={},s="text/plain",a=o[s],c={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const l in c)o[c[l]]=l},67169:(e,t,r)=>{r.d(t,{b:()=>f});var i=r(69539),n=r(68134),o=r(9392),s=r(93131),a=r(77654),c=r(56121),l=r(38317),d=r(91175),u=r(62577),p=r(45463),g=r(425),h=r(76336);class f extends c.q{constructor(e,t){const r=(0,a.wZ)(t),o=r?s.aj:s.YG,c=o*s.UF,d=s.YG,u={renderOccluded:p.m$.OccludeAndTransparent,isDecoration:!0},h=new g.W({...u,width:o}),f=new g.W({...u,width:c}),b=new g.W({...u,width:d});super({view:e,...l.MO,...m({isCorner:r,unfocusedMaterial:h,focusedMaterial:f,outlineMaterial:b})}),this._themeHandle=(0,n.wB)((()=>e.effectiveTheme.accentColor),(e=>{const t=i.A.toUnitRGBA(e);h.setParameters({color:t}),f.setParameters({color:t}),b.setParameters({color:t})}),n.Vh)}destroy(){this._themeHandle.remove(),super.destroy()}}function m(e){let{isCorner:t,unfocusedMaterial:r,focusedMaterial:i,outlineMaterial:n}=e;const c=t?[(0,o.fA)(1,0,0),(0,o.fA)(0,0,0),(0,o.fA)(0,1,0)]:[(0,o.fA)(1,0,0),(0,o.fA)(-1,0,0)];return{renderObjects:[new d.M((0,u.Z8)(r,c),h.p7.Unfocused|a.oc),new d.M((0,u.Z8)(i,c),h.p7.Focused|a.oc),new d.M((0,u.Z8)(n,c),a.zm)],collisionType:{type:"line",paths:[c]},radius:t?s.E3:s.sd,state:a.oc}}},78136:(e,t,r)=>{r.d(t,{Q:()=>w});var i=r(69539),n=r(59784),o=r(68134),s=r(77654),a=r(56121),c=r(38317),l=r(91175),d=r(50468),u=r(51799),p=r(62577),g=r(45463),h=r(66470),f=r(77447),m=r(425),b=r(76336);class w extends a.q{constructor(e,t){const r=new f.r({transparent:!0,writeDepth:!1,renderOccluded:g.m$.Opaque,isDecoration:!0}),s=c.eO.calloutWidth,a=new m.W({width:s,renderOccluded:g.m$.OccludeAndTransparent,isDecoration:!0});super({view:e,...v({imageMaterial:r,calloutMaterial:a})}),this._currentTexture=null,this._themeHandle=(0,o.wB)((()=>e.effectiveTheme.accentColor),(e=>{const o=(0,n._L)(e,.5),s=(0,n.bJ)(e),c=this._currentTexture,l=t(o,s);r.setParameters({textureId:l.texture.id}),a.setParameters({color:i.A.toUnitRGBA(e)}),this._currentTexture=l,c?.release()}),o.Vh)}destroy(){this._themeHandle.remove(),this._currentTexture?.release(),super.destroy()}}function v(e){let{imageMaterial:t,calloutMaterial:r}=e;const{focusMultiplier:i,calloutLength:n,discRadius:o}=c.eO,a=o*i,g=(e,t)=>{const r=[0,1,2,2,3,0];return new u.V(t,[[h.r.POSITION,new d.n([n-e,-e,0,n+e,-e,0,n+e,e,0,n-e,e,0],r,3,!0)],[h.r.UV0,new d.n([0,0,1,0,1,1,0,1],r,2,!0)]])},f=(0,p.Z8)(r,[[0,0,0],[n-o,0,0]]),m=(0,p.Z8)(r,[[0,0,0],[n-a,0,0]]),w=s.s5;return{autoScaleRenderObjects:!1,collisionPriority:1,collisionType:{type:"disc",direction:[0,0,1],offset:[n,0,0]},focusMultiplier:i,radius:o,renderObjects:[new l.M(g(o,t),b.p7.Unfocused|w),new l.M(f,b.p7.Unfocused|w),new l.M(g(a,t),b.p7.Focused|w),new l.M(m,b.p7.Focused|w)],state:w}}},20205:(e,t,r)=>{r.d(t,{r:()=>i,x:()=>I});var i,n,o=r(69539),s=r(59784),a=r(68134),c=r(34761),l=r(13191),d=r(60008),u=r(20664),p=r(9392),g=r(75762),h=r(93131),f=r(77654),m=r(56121),b=r(91175),w=r(83490),v=r(62577),_=r(45463),A=r(76956),O=r(425),T=r(76336);(n=i||(i={}))[n.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",n[n.CENTER_ON_ARROW=1]="CENTER_ON_ARROW";class I extends m.q{constructor(e,t){const r=new O.W({width:1,renderOccluded:_.m$.OccludeAndTransparent,isDecoration:!0}),i=new A.v({cullFace:w.s2.Back,renderOccluded:_.m$.Opaque,isDecoration:!0}),n=new A.v({cullFace:w.s2.Back,renderOccluded:_.m$.Opaque,isDecoration:!0}),c=new A.v({cullFace:w.s2.Back,renderOccluded:_.m$.Opaque,isDecoration:!0}),l=new A.v({writeDepth:!1,cullFace:w.s2.Front,renderOccluded:_.m$.Transparent,isDecoration:!0});super({view:e,...M({offsetMode:t,tubeMaterial:i,tipMaterial:n,capMaterial:c,outlineMaterial:l,calloutMaterial:r})}),this._themeHandle=(0,a.wB)((()=>e.effectiveTheme.accentColor),(e=>{const t=(0,s.bJ)(e),a=o.A.toUnitRGBA(e),d=o.A.toUnitRGBA(t),u=o.A.toUnitRGBA(o.A.blendColors(t,e,.4)),p=o.A.toUnitRGBA(o.A.blendColors(t,e,.14));r.setParameters({color:a}),i.setParameters({color:p}),n.setParameters({color:d}),c.setParameters({color:u}),l.setParameters({color:a})}),a.Vh)}destroy(){this._themeHandle.remove(),super.destroy()}}function M(e){let{offsetMode:t,tubeMaterial:r,tipMaterial:n,capMaterial:o,outlineMaterial:s,calloutMaterial:a}=e;const c=t===i.CENTER_ON_CALLOUT?h.I4:0,l=[(0,p.fA)(c,0,-h.vA/2),(0,p.fA)(c,0,h.vA/2)],d=function(e){const t=(0,u.f)((0,p.vt)(),e[e.length-1],e[e.length-2]);(0,u.n)(t,t),(0,u.j)(t,t,h.xj),(0,u.g)(t,t,e[e.length-1]);{const r=(0,u.f)((0,p.vt)(),e[0],e[1]);return(0,u.n)(r,r),(0,u.j)(r,r,h.xj),(0,u.g)(r,r,e[0]),[r,...e,t]}}(l),g=y({vertices:l,padding:0,materials:{tube:r,tip:n,cap:o}}),m=y({vertices:l,padding:h.D9,materials:{tube:s,tip:s,cap:s}}),w=(0,v.Z8)(a,[[c,0,0],[c-h.I4,0,0]]),_=(0,v.Z8)(a,[[c,0,0],[c-h.I4,0,0]]);return{renderObjects:[...g.normal.map((e=>new b.M(e,T.p7.Unfocused|f.s5))),...m.normal.map((e=>new b.M(e,T.p7.Unfocused|f.s5))),new b.M(w,T.p7.Unfocused|f.s5|f.xM),...g.focused.map((e=>new b.M(e,T.p7.Focused|f.s5))),...m.focused.map((e=>new b.M(e,T.p7.Focused|f.s5))),new b.M(_,T.p7.Focused|f.s5|f.xM)],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[d]},collisionPriority:1,radius:h.rb,state:f.s5}}function y(e){let{vertices:t,padding:r,materials:i}=e;const n=e=>{const n=t.slice(0),o=(0,u.f)(g.rq.get(),n[0],n[1]);(0,u.n)(o,o);const s=(0,u.f)(g.rq.get(),n[n.length-1],n[n.length-2]);if((0,u.n)(s,s),r>0){const e=(0,u.j)((0,p.vt)(),s,-r);n[n.length-1]=(0,u.g)(e,e,n[n.length-1]);const t=(0,u.j)((0,p.vt)(),o,-r);n[0]=(0,u.g)(t,t,n[0])}const a=e?h.cE:1,f=h.xj*a,m=h.rb*a,b=(0,c.D_)(g.Rc.get());if(r>0){const e=f/4,t=(0,u.s)(g.rq.get(),0,e,0),i=1+r/e;(0,c.Tl)(b,b,t),(0,c.hs)(b,b,(0,u.s)(g.rq.get(),i,i,i)),(0,c.Tl)(b,b,(0,u.j)(t,t,-1/i))}const w=(0,c.D_)((0,l.vt)()),_=(0,p.fA)(0,1,0),A=(0,c.I0)((0,l.vt)(),(0,d.Yc)(g.J8.get(),_,s));A[12]=n[n.length-1][0],A[13]=n[n.length-1][1],A[14]=n[n.length-1][2],(0,c.lw)(A,A,b);const O=i.tube,T=function(e,t,r){const i=[],n=12;for(let o=0;o<n;o++){const t=o/n*2*Math.PI;i.push([Math.cos(t)*e,Math.sin(t)*e])}return(0,v.Nq)(r,i,t,[],[],!1)}(h.qD*(e?h.FF:1)+r,n,O);T.transformation=w;const I=[T],M=i.tip,y=(0,v.EE)(M,f,m,24,!1,!1,!0);y.transformation=A,I.push(y);const E=i.cap,C=(0,v.EE)(E,f,m,24,!1,!0,!1);C.transformation=A,I.push(C);const P=(0,c.I0)((0,l.vt)(),(0,d.Yc)(g.J8.get(),_,o));return P[12]=n[0][0],P[13]=n[0][1],P[14]=n[0][2],(0,c.lw)(P,P,b),I.push(y.instantiate({transformation:P})),I.push(C.instantiate({transformation:P})),I};return{normal:n(!1),focused:n(!0)}}},56332:(e,t,r)=>{r.d(t,{E$:()=>n,Or:()=>o,qb:()=>s});var i=r(59784);const n=(0,r(55855).fA)(0,0,0,.04);function o(e){let{accentColor:t}=e;return(0,i.f6)(t,.5)}function s(e){let{accentColor:t}=e;return(0,i.f6)(t,.7)}},93131:(e,t,r)=>{r.d(t,{Bw:()=>m,D9:()=>T,DG:()=>u,E3:()=>E,FF:()=>c,Hb:()=>o,I4:()=>A,Jj:()=>y,Ll:()=>g,NT:()=>b,Sw:()=>P,UF:()=>a,YG:()=>M,ZR:()=>h,aE:()=>R,aj:()=>I,c1:()=>d,cE:()=>l,cO:()=>f,lS:()=>p,qD:()=>w,rb:()=>v,sd:()=>C,vA:()=>O,vo:()=>s,xj:()=>_});var i=r(81806),n=r(15941);const o=(0,i.A)("mac")?"Meta":"Control",s="Shift",a=2,c=1.15,l=1.15,d=2500,u=.02,p=Math.cos((0,n.kU)(45)),g=Math.cos((0,n.kU)(5)),h=.95,f=.3,m=2,b=1,w=3,v=11,_=22.5,A=40,O=48,T=2.25,I=4,M=1,y=.3,E=6,C=4,P=1600,R=.4},77654:(e,t,r)=>{r.d(t,{s5:()=>Ae,xM:()=>Ie,CB:()=>Oe,pu:()=>Te,h7:()=>ne,Yx:()=>ge,DI:()=>re,PI:()=>me,tn:()=>fe,FK:()=>ee,W6:()=>oe,r_:()=>ie,wZ:()=>he,fE:()=>Pe,d0:()=>be,Md:()=>ve,bR:()=>_e,oc:()=>Ee,zm:()=>Ce,xQ:()=>te,gi:()=>ae,d8:()=>ce,Oj:()=>le,vJ:()=>se});r(35238);var i=r(62315),n=(r(81806),r(76460)),o=r(15941),s=r(76931),a=r(34761),c=r(20664),l=r(9392),d=r(9624),u=r(5568),p=r(79650),g=r(13927),h=r(95925),f=r(96190),m=r(75762),b=r(56332),w=r(93131),v=r(17430),_=r(38317),A=r(7256),O=r(43047),T=r(55855),I=r(32314),M=r(62577),y=r(45463),E=r(34981),C=r(99415),P=r(59696),R=r(77730),N=r(82809),j=r(86401),S=r(63928),q=r(64839),U=r(16506),x=r(42693),L=r(32119),D=r(28584),V=r(48678),W=r(93345),k=r(57162);class H extends q.Y{constructor(){super(...arguments),this.backgroundColor=(0,T.fA)(1,0,0,.5),this.gridColor=(0,T.fA)(0,1,0,.5),this.gridWidth=4}}class F extends x.w{initializeProgram(e){return new D.B(e.rctx,F.shader.get().build(this.configuration),L.D)}initializePipeline(){return(0,k.Ey)({blending:(0,k.p3)(W.dn.ONE,W.dn.ONE,W.dn.ONE_MINUS_SRC_ALPHA,W.dn.ONE_MINUS_SRC_ALPHA),depthTest:{func:W.MT.LESS},colorWrite:k.wE})}}F.shader=new U.$(V.S,(()=>r.e(3744).then(r.bind(r,3744))));class Z extends S.W{constructor(e){super(e,new B),this.produces=new Map([[R.N.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>e===E.V.Color]]),this._configuration=new C.K}createBufferWriter(){return new N.Z(j.zK)}createGLMaterial(e){return new G(e)}getConfiguration(){return this._configuration}}class G extends P.A{constructor(e){super(e),this.ensureTechnique(F,null)}beginSlot(){return this.technique}}class B extends H{constructor(){super(...arguments),this.renderOccluded=y.m$.Occlude,this.isDecoration=!1}}class $ extends I.X{constructor(e){super(e),this._material=null,this._renderOccluded=y.m$.OccludeAndTransparent,this._gridWidth=1,this._gridColor=(0,T.fA)(1,0,0,1),this._backgroundColor=(0,T.fA)(1,0,0,1),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(e){this._gridWidth!==e&&(this._gridWidth=e,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(e){(0,O.c)(this._gridColor,e),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){(0,O.c)(this._backgroundColor,e),this._updateMaterial()}createExternalResources(){this._material=new Z(this._materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){null!=this._material&&e(this._material)}createGeometries(e){if(null!=this._material){const t=(0,M.Gj)(this._material);e.addGeometry(t)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){null!=this._material&&this._material.setParameters(this._materialParameters)}}var z,Y,J=r(74487),X=r(37431),K=r(76336),Q=r(19247);r(76797);function ee(e,t,r,i,n,o,s,a){return function(e,t,r,i,n,o){const s=(0,c.m)(e,t),a=m.rq.get(),l=m.rq.get();switch(i===Te.HORIZONTAL_OR_VERTICAL?Math.abs(s)>w.lS?Te.HORIZONTAL:Te.VERTICAL:i){case Te.VERTICAL:{const i=Math.abs(s)<=w.Ll?e:r.viewUp;(0,c.b)(a,i,t),(0,c.c)(l,t);break}case Te.HORIZONTAL:(0,c.b)(a,r.viewUp,t),(0,c.b)(l,t,a);break;case Te.TILTED:{const i=Math.abs(s)<=w.Ll?t:r.viewUp;(0,c.b)(a,i,e),(0,c.b)(l,e,a);break}}const d=(0,c.b)(m.rq.get(),a,l);(0,c.m)(d,r.viewForward)>0&&(0,c.j)(l,l,-1),(0,c.n)(n,a),(0,c.n)(o,l)}(t,s.worldUpAtPosition(e,m.rq.get()),n,o,a.basis1,a.basis2),(0,c.j)(a.basis1,a.basis1,r),(0,c.j)(a.basis2,a.basis2,i),(0,c.c)(a.origin,e),(0,g.mR)(a.basis2,a.basis1,a.origin,a.plane),a}function te(e,t,r,i,n,o){const s=(0,c.c)(m.rq.get(),n.origin);(0,c.g)(s,s,(0,c.j)(m.rq.get(),n.basis1,e.direction[0]<0?1:-1)),(0,c.g)(s,s,(0,c.j)(m.rq.get(),n.basis2,e.direction[1]<0?1:-1));const a=(0,c.l)(n.basis1),l=(0,c.l)(n.basis2),d=(0,c.f)(m.rq.get(),r,s),u=(0,c.f)(m.rq.get(),t,s);let g=0,h=0;if(he(e)){const t=ge(n),r=ge(o);g=a-.5*e.direction[0]*(0,c.m)(n.basis1,u)/a,h=l-.5*e.direction[1]*(0,c.m)(n.basis2,u)/l;const i=r/t;g*=i,h*=i}const f=g+.5*e.direction[0]*(0,c.m)(n.basis1,d)/a,b=h+.5*e.direction[1]*(0,c.m)(n.basis2,d)/l,v=(0,c.j)(m.rq.get(),n.basis1,f/a),_=(0,c.j)(m.rq.get(),n.basis2,b/l);(f<=0||ue(o.origin,v,i)<=w.Sw)&&(0,c.c)(v,o.basis1),(b<=0||ue(o.origin,_,i)<=w.Sw)&&(0,c.c)(_,o.basis2);const A=(0,c.c)(m.rq.get(),s);return(0,c.g)(A,A,(0,c.j)(m.rq.get(),v,e.direction[0]<0?-1:1)),(0,c.g)(A,A,(0,c.j)(m.rq.get(),_,e.direction[1]<0?-1:1)),(0,p.f)(A,v,_,o)}function re(e,t){return w.aE*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function ie(e,t,r,i){const n=(0,c.b)(m.rq.get(),t,r);return(0,c.b)(n,n,t),(0,g.O_)(e,n,i)}function ne(e,t){return(0,_.wQ)(e.basis1,e.basis2,e.origin,t)}function oe(e,t,r,i){const n=t.worldUpAtPosition(e.origin,m.rq.get()),o=m.rq.get();switch(r){case Oe.HEADING:(0,c.c)(o,n);break;case Oe.TILT:(0,c.c)(o,e.basis1)}return(0,g.O_)(e.origin,o,i)}function se(e,t,r,i){const n=de(r,z.NEGATIVE_X),o=m.Rc.get();(0,a.Qr)(o,t,n.edge*Math.PI/2);const d=(0,c.n)(m.rq.get(),n.basis);let u=(0,c.j)(m.rq.get(),d,n.direction*i.computeScreenPixelSizeAt(n.position)*w.I4);(0,c.g)(u,u,n.position);const g=i.projectToRenderScreen(u,(0,s.sc)(m.rq.get())),h=function(e,t){const[r,i,n,o]=e.viewport,s=Math.min(n,o)/16;let a=!0;return t[0]<r+s?(t[0]=r+s,a=!1):t[0]>r+n-s&&(t[0]=r+n-s,a=!1),t[1]<i+s?(t[1]=i+s,a=!1):t[1]>i+o-s&&(t[1]=i+o-s,a=!1),a}(i,g);(0,X.RI)(i,g,Me),(0,c.n)(Me.direction,Me.direction);const f=m.rq.get();!h&&(0,p.i)(r,Me,f)&&(u=f),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=(0,l.o8)(u),h?e.state|=Ie:e.state&=~Ie}function ae(e,t,r,i){const n=(0,c.l)(i.basis1),o=(0,c.l)(i.basis2),s=pe(i),l=ge(i),d=(0,c.s)(m.rq.get(),0,0,0);(0,c.g)(d,(0,c.j)(m.rq.get(),i.basis1,t.direction[0]),(0,c.j)(m.rq.get(),i.basis2,t.direction[1])),(0,c.g)(d,i.origin,d);let u=0,p=1;if(he(t))1===t.direction[0]&&-1===t.direction[1]?u=ye:1===t.direction[0]&&1===t.direction[1]?u=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(u=3*Math.PI/2),p=l;else{const e=0!==t.direction[0]?1:2;u=1===e?ye:0,p=(1===e?o:n)-s}const g=(0,a.N9)(m.Rc.get(),u);(0,a.hs)(g,g,(0,c.s)(m.rq.get(),p,p,p)),(0,a.lw)(g,r,g),g[12]=0,g[13]=0,g[14]=0,e.modelTransform=g,e.renderLocation=d}function ce(e,t,r,i){const n=i.worldUpAtPosition(r.origin,m.rq.get()),o=de(r,z.POSITIVE_X),s=(0,a.N9)(m.Rc.get(),o.edge*Math.PI/2);(0,a.eL)(s,s,-we(r,n)),(0,a.lw)(s,t,s),s[12]=0,s[13]=0,s[14]=0,e.modelTransform=s,e.renderLocation=o.position}function le(e,t,r){const i=de(r,z.POSITIVE_Y),n=(0,a.N9)(m.Rc.get(),i.edge*Math.PI/2);(0,a.eL)(n,n,ye),(0,a.lw)(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=i.position}function de(e,t){switch(t){case z.POSITIVE_X:return{basis:e.basis1,direction:1,position:(0,c.g)(m.rq.get(),e.origin,e.basis1),edge:t};case z.POSITIVE_Y:return{basis:e.basis2,direction:1,position:(0,c.g)(m.rq.get(),e.origin,e.basis2),edge:t};case z.NEGATIVE_X:return{basis:e.basis1,direction:-1,position:(0,c.f)(m.rq.get(),e.origin,e.basis1),edge:t};case z.NEGATIVE_Y:return{basis:e.basis2,direction:-1,position:(0,c.f)(m.rq.get(),e.origin,e.basis2),edge:t}}}function ue(e,t,r){const i=r.projectToRenderScreen((0,c.g)(m.rq.get(),e,t),(0,s.sc)(m.rq.get())),n=r.projectToRenderScreen((0,c.f)(m.rq.get(),e,t),(0,s.sc)(m.rq.get()));return(0,c.q)((0,c.f)(i,i,n))}function pe(e){const t=(0,c.l)(e.basis1),r=(0,c.l)(e.basis2);return w.Jj*Math.min(t,r)}function ge(e){return pe(e)}function he(e){return 0!==e.direction[0]&&0!==e.direction[1]}function fe(e){return new A.t({view:e,attached:!1,color:(0,b.qb)(e.effectiveTheme),width:w.NT,renderOccluded:y.m$.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]],isDecoration:!0})}function me(e){return new $({view:e,attached:!1,backgroundColor:b.E$,gridColor:(0,b.Or)(e.effectiveTheme),gridWidth:4,renderOccluded:y.m$.OccludeAndTransparent,isDecoration:!0})}function be(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new i.A;if(null==e)return null;const{renderCoordsHelper:s}=t,a=s.fromRenderCoords(e.origin,new Q.A({spatialReference:t.spatialReference}));if(null==a)return null;const l=(0,d.tryProjectWithZConversion)(a,r);if(null==l)return null;n.position=l;const u=2*(0,c.l)(e.basis1),p=2*(0,c.l)(e.basis2),g=J.d.renderUnitScaleFactor(t.spatialReference,r);n.width=u*g,n.height=p*g;const h=s.worldUpAtPosition(e.origin,m.rq.get());return n.tilt=(0,o.KJ)(we(e,h)),n.heading=s.headingAtPosition(e.origin,e.basis1)-90,n}function we(e,t){return(0,f.EJ)(t,e.basis2,e.basis1)+ye}function ve(e,t){if(null==e?.position)return null;const r=(0,v.B)(e.position,t.spatialReference,t.elevationProvider);if(null==r)return null;const i=J.d.renderUnitScaleFactor(e.position.spatialReference,t.spatialReference),n=e.width*i,o=e.height*i;return{position:r,heading:e.heading,tilt:e.tilt,renderWidth:n,renderHeight:o}}function _e(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,p.a)();if(null==e)return null;const s=function(e,t,r,i,s,a){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:(0,p.a)();return a.toRenderCoords(e,l.origin)?(a.worldBasisAtPosition(l.origin,u._.X,l.basis1),a.worldBasisAtPosition(l.origin,u._.Y,l.basis2),(0,g.mR)(l.basis2,l.basis1,l.origin,l.plane),(0,p.r)(l,-(0,o.kU)(t),(0,p.n)(l),l),(0,p.r)(l,(0,o.kU)(r),l.basis1,l),(0,c.j)(l.basis1,l.basis1,i/2),(0,c.j)(l.basis2,l.basis2,s/2),(0,p.u)(l),l):(n.A.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`),null)}(e.position,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,i);return r.tiltEnabled||null==s||function(e,t,r){const i=t.worldUpAtPosition(e.origin,m.rq.get()),n=e.basis1,o=we(e,i),s=Math.round(o/ye)*ye;(0,p.r)(e,s-o,n,r)}(s,t.renderCoordsHelper,s),s}(Y=z||(z={}))[Y.POSITIVE_X=0]="POSITIVE_X",Y[Y.POSITIVE_Y=1]="POSITIVE_Y",Y[Y.NEGATIVE_X=2]="NEGATIVE_X",Y[Y.NEGATIVE_Y=3]="NEGATIVE_Y";const Ae=K.SJ.Custom1;var Oe,Te;!function(e){e[e.HEADING=1]="HEADING",e[e.TILT=2]="TILT"}(Oe||(Oe={})),function(e){e[e.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.TILTED=3]="TILTED"}(Te||(Te={}));const Ie=K.SJ.Custom2,Me=(0,h.vt)(),ye=Math.PI/2,Ee=K.SJ.Custom1,Ce=K.SJ.Custom2;function Pe(e){return null!=("building-scene-3d"===e.type?e:null)}}}]);
//# sourceMappingURL=530.9966b98d.chunk.js.map