{"version":3,"file":"static/js/9031.6f0063fe.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/i3s/featureEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{resultOrAbort as e}from\"../../../../core/asyncUtils.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryAllJSON as n}from\"../../../../layers/support/featureQueryAll.js\";const o={setAttribute(){},rollback(){},commit(){}};var r;function i(e,n){const i=n.attributes[e.objectIdField];if(null==i)return o;const s=e.sessions.get(i);if(s)return s;const l=t(n.attributes),u=new Set,a=e.i3sOverrides.createInteractiveEditSession(i),d=new Map,f=(e,t)=>{const n=d.get(e);if(null==n){const n=t.indexOf(i);return d.set(e,n),n}return n};let c=r.EDITING;const I={setAttribute(t,o){if(c!==r.EDITING)return;const i=e.fieldsIndex.get(t);if(!i)return;const s=e.attributeStorageInfo.findIndex((e=>e.name===i.name));if(s<0)return;if(!(t in l))throw new Error(`Attribute \"${t}\" is not an attribute of the edited feature.`);a.setAttribute(s,o);const d=e.attributeStorageInfo[s];let I=!1;u.add(t),e.forEachNode(((t,r)=>{const i=f(t,r);if(-1===i)return;const s=e.getAttributeData(t.index);if(s){const r=s[d.name];r&&(r[i]=o,e.setAttributeData(t.index,s,n),I=!0)}})),I&&e.clearMemCache()},rollback(){if(c===r.EDITING){for(const e of u)this.setAttribute(e,l[e]);a.remove(),c=r.ROLLED_BACK,e.sessions.delete(i)}},commit(){c===r.EDITING&&(a.remove(),c=r.COMMITTED,e.sessions.delete(i))}};return e.sessions.set(i,I),I}function s(e,t,n){const{gidToFeatureInfo:o,oidToFeatureInfo:r,fieldsIndex:i,objectIdField:s,globalIdField:l,featureOrIdentifierList:u}=n;if(!n.featuresResolved&&null!=u){for(const e of u){const t={feature:null,oid:-1,gid:null};if(\"attributes\"in e){t.feature=e;const n=e.attributes;if(null!=n)for(const e in n){if(-1!==t.oid&&null!=t.gid)break;const o=i.normalizeFieldName(e);o===s&&(t.oid=n[e]??-1),o===l&&(t.gid=n[e])}}else t.oid=e.objectId??-1,t.gid=e.globalId;null!=t.gid&&o.set(t.gid,t),-1!==t.oid&&r.set(t.oid,t)}n.featuresResolved=!0}return(-1!==e?r.get(e):null)??(null!=t?o.get(t):null)}function l(e,t,n,o,r=null,i=!0){const l=[],u={gidToFeatureInfo:new Map,oidToFeatureInfo:new Map,featuresResolved:null==n,fieldsIndex:e.fieldsIndex,objectIdField:e.objectIdField,globalIdField:e.globalIdField,featureOrIdentifierList:n};for(const a of t){if(null!=a.error)continue;const e=a.objectId??-1,t=a.globalId,n=(-1===e||i?s(e,t,u):null)??{feature:null,oid:e,gid:t},d={oid:-1===e?n.oid:e,gid:t??n.gid,feature:n.feature,result:a};if(l.push(d),-1===d.oid&&null!=d.gid&&null!=r&&(d.oid=r.get(d.gid)??-1),-1===d.oid&&null!=d.gid){let e=o.get(d.gid);null==e&&(e=[],o.set(d.gid,e)),e.push(d)}}return l}async function u(e,t){const n=new Map,o=l(e,t.addedFeatures,t.edits?.addFeatures,n),r=l(e,t.updatedFeatures,t.edits?.updateFeatures,n),i=l(e,t.deletedFeatures,t.edits?.deleteFeatures,n,t.globalIdToObjectId,!1);return n.size>0&&await a(e,n),{adds:o.filter((e=>-1!==e.oid)),updates:r.filter((e=>-1!==e.oid)),deletes:i.filter((e=>-1!==e.oid))}}async function a(t,o){const r=t.i3sOverrides.layer.associatedLayer;if(null==r?.globalIdField)return;const i=r.createQuery(),{objectIdField:s,globalIdField:l}=r;i.where=Array.from(o.keys()).map((e=>`${l}='${e}'`)).join(\" OR \"),i.returnGeometry=!1,i.outFields=[s,l],i.cacheHint=!1;const u=await e(n(r,i));if(!u.ok)return;const a=u.value.features;for(const e of a){const t=e.attributes[l],n=e.attributes[s];if(null==t||null==n||-1===n)continue;const r=o.get(t);if(null!=r)for(const e of r)e.oid=n}}function d(e,t){const n=new Map,o=e=>{for(const{oid:t,feature:o}of e){const e=o?.geometry;\"mesh\"===e?.type&&n.set(t,e)}};o(t.adds),o(t.updates);for(const r of t.deletes)n.set(r.oid,null);for(const[r,i]of n)e.i3sOverrides.updateGeometry(r,i)}function f(e,t){const n=I(e,t),o=c(e,t);if(0===n.size&&0===o.size)return;const r=new Map;for(let c=0;c<e.attributeStorageInfo.length;c++)r.set(e.attributeStorageInfo[c].name,c);let i=!1;n.forEach(((t,n)=>{const o=e.getAttributeData(n);let s=!1;t.forEach(((t,n)=>{const l=null!=o?o[n]:null,u=r.get(n);for(const{featureIndex:o,value:r,featureId:a}of t)l&&(l[o]=r,s=!0,i=!0),e.i3sOverrides.updateAttributeValue(a,u,r)})),s&&e.setAttributeData(n,o,null)})),i&&e.clearMemCache();const{fieldsIndex:s,i3sOverrides:l,objectIdField:u,globalIdField:a}=e,d=l.layer.associatedLayer?.infoFor3D,f=new Set(d?[...Object.values(d.assetMapFieldRoles),...Object.values(d.transformFieldRoles)]:[]);for(const[c,I]of o){l.featureAdded(c);const{attributes:e}=I;for(const t in e){if(t!==u&&t!==a&&f.has(t))continue;const n=s.normalizeFieldName(t),o=null!=n?r.get(n):null;if(null==o)continue;const i=e[t];l.updateAttributeValue(c,o,i)}}}function c(e,t){const n=new Map,o=t.adds;if(!o||0===o.length||null==e.globalIdField)return n;for(const r of o){const e=r.oid,t=r.feature;\"mesh\"===t?.geometry?.type&&n.set(e,t)}return n}function I(e,t){const n=t.updates;if(!n||0===n.length)return new p;const o=new p,r=new Map;for(let i=0;i<e.attributeStorageInfo.length;i++)r.set(e.attributeStorageInfo[i].name,i);return e.forEachNode(((t,r)=>{for(const i of n){if(null==i.feature)continue;const n=i.feature,s=i.oid,l=r.indexOf(s);for(const r in n.attributes){const i=e.fieldsIndex.normalizeFieldName(r),u=g(o,t.index,i),a=n.attributes[r];u.push({featureIndex:l,featureId:s,value:a})}}})),o}function g(e,t,n){const o=b(e,t),r=null!=n&&o.get(n);if(r)return r;const i=new Array;return o.set(n,i),i}function b(e,t){const n=e.get(t);if(n)return n;const o=new m;return e.set(t,o),o}!function(e){e[e.EDITING=0]=\"EDITING\",e[e.ROLLED_BACK=1]=\"ROLLED_BACK\",e[e.COMMITTED=2]=\"COMMITTED\"}(r||(r={}));const m=Map,p=Map;export{i as createInteractiveEditSession,u as normalizeEditResultsEvent,f as processAttributeEdits,d as processGeometryEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import s from\"./Accessor.js\";import r from\"./Logger.js\";import{debounce as o}from\"./promiseUtils.js\";import{watch as e,initial as n}from\"./reactiveUtils.js\";import{property as i}from\"./accessorSupport/decorators/property.js\";import{subclass as p}from\"./accessorSupport/decorators/subclass.js\";const c=s=>{let c=class extends s{constructor(){super(...arguments),this._numUpdating=0}get updating(){return this._numUpdating>0}autoUpdateAsync(t,s){const i=o((async s=>{++this._numUpdating;try{const r=await s;this.destroyed||this._set(t,r)}catch(o){r.getLogger(this).warn(`Async update of \"${String(t)}\" failed. Async update functions should not throw exceptions.`)}--this._numUpdating}));return e(s,i,n)}};return t([i({readOnly:!0})],c.prototype,\"updating\",null),t([i()],c.prototype,\"_numUpdating\",void 0),c=t([p(\"esri.core.AsyncUpdate\")],c),c};let a=class extends(c(s)){};a=t([p(\"esri.core.AsyncUpdate\")],a);export{a as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{AsyncUpdateMixin as s}from\"../../../../core/AsyncUpdate.js\";import t from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as l,collectLabelingFields as d,collectFilterFields as n}from\"../../../../layers/support/fieldUtils.js\";let a=class extends(s(r)){get layer(){return this.layerView.layer}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:i}=this;return l(e,[...r??[],...s??[],...t??[],...i??[]])}constructor(e){super(e)}initialize(){this.addHandles([this.autoUpdateAsync(\"rendererFields\",(async()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?this._getFieldsAsync((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(async()=>{const{layer:e}=this;return e.labelsVisible?this._getFieldsAsync((r=>d(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,mergedFilter:r}=this.layerView;return this._getFieldsAsync((s=>n(s,e,r)))}))])}async _getFieldsAsync(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return t.getLogger(this).error(s),null}}};e([i()],a.prototype,\"layerView\",void 0),e([i()],a.prototype,\"layer\",null),e([i()],a.prototype,\"requiredFields\",null),e([i()],a.prototype,\"rendererFields\",void 0),e([i()],a.prototype,\"labelingFields\",void 0),e([i()],a.prototype,\"viewFilterFields\",void 0),a=e([o(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],a);export{a as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{isSome as t}from\"../../core/arrayUtils.js\";import r from\"../../core/Logger.js\";import{abortMaybe as o}from\"../../core/maybe.js\";import{unwrapUpdating as i,updating as n,isUpdating as l}from\"../../core/maybeUpdating.js\";import{throwIfAbortError as s,throwIfNotAbortError as a}from\"../../core/promiseUtils.js\";import{whenOnce as m}from\"../../core/reactiveUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{project as u,canProjectWithoutEngine as g,isLoaded as y,load as h}from\"../../geometry/projection.js\";import d from\"./LayerView.js\";let f=class extends d{constructor(){super(...arguments),this.layer=null,this.filter=null,this._geometryEngine=null,this._projectionEngineLoaded=!1,this._abortController=new AbortController}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}get layerFilter(){return i(this._layerFilter)}get _layerFilter(){const e=this.layer?.filter;if(null==e||e.geometries.length<1)return null;const o=this._geometryEngine;if(null==o||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)return n;const i=e.geometries.at(0).spatialReference,l=e.geometries.toArray().map((e=>{try{e=o.simplify(e)}catch(t){return r.getLogger(this).warnOncePerTick(\"Failed to simplify scene filter mask polygon. Polygon will be ignored.\"),null}if(null==e)return null;if(e.spatialReference.equals(i))return e;try{return u(e,i)}catch(t){return r.getLogger(this).warnOncePerTick(\"Failed to project scene filter mask polygon. Polygon will be ignored.\"),null}})).filter(t).sort(((e,t)=>e.extent.xmin-t.extent.xmin)),s=new Set,a=new Array,m=new Array;for(let t of l){const e=t.extent.xmin;if(a.length=0,s.forEach((r=>{if(e>=r.extent.xmax)return m.push(r),void s.delete(r);t.extent.ymin<=r.extent.ymax&&t.extent.ymax>=r.extent.ymin&&o.intersects(t,r)&&a.push(r)})),a.length>0){a.push(t);try{t=o.union(a)}catch(p){r.getLogger(this).warnOncePerTick(\"Failed to unify filter mask polygons. Polygon will be ignored.\");continue}a.pop(),a.forEach((e=>s.delete(e)))}s.add(t)}return s.forEach((e=>m.push(e))),m.length>0?{spatialRelationship:e.spatialRelationship,geometries:m}:null}get _filterNeedsProjectionEngine(){const e=this.layer.filter;if(null==e||e.geometries.length<=1)return!1;const t=e.geometries.at(0).spatialReference;return e.geometries.some((({spatialReference:e})=>!e.equals(t)&&!g(e,t)))}get layerFilterUpdating(){return l(this._layerFilter)}initialize(){const{signal:e}=this._abortController;m((()=>this.destroyed||!this._geometryEngine&&this.layer?.filter?.geometries?.length),e).then((async()=>{s(e),this._geometryEngine=await import(\"../../geometry/geometryEngine.js\")})).catch(a),this._projectionEngineLoaded=y(),m((()=>this.destroyed||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine),e).then((async()=>{s(e),await h(),this._projectionEngineLoaded=!0})).catch(a)}destroy(){this._abortController=o(this._abortController)}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,t){throw new Error(\"Not implemented\")}queryObjectIds(e,t){throw new Error(\"Not implemented\")}queryFeatureCount(e,t){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,t){throw new Error(\"Not implemented\")}};e([p()],f.prototype,\"layer\",void 0),e([p()],f.prototype,\"availableFields\",null),e([p()],f.prototype,\"maximumNumberOfFeatures\",null),e([p({readOnly:!0})],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([p()],f.prototype,\"filter\",void 0),e([p({readOnly:!0})],f.prototype,\"layerFilter\",null),e([p({readOnly:!0})],f.prototype,\"_layerFilter\",null),e([p()],f.prototype,\"_geometryEngine\",void 0),e([p()],f.prototype,\"_projectionEngineLoaded\",void 0),e([p()],f.prototype,\"_filterNeedsProjectionEngine\",null),e([p()],f.prototype,\"layerFilterUpdating\",null),f=e([c(\"esri.views.layers.SceneLayerView\")],f);const w=f;export{w as default};\n"],"names":["o","setAttribute","rollback","commit","r","e","i","n","attributes","objectIdField","s","sessions","get","l","t","u","Set","a","i3sOverrides","createInteractiveEditSession","d","Map","f","indexOf","set","c","EDITING","I","fieldsIndex","attributeStorageInfo","findIndex","name","Error","add","forEachNode","getAttributeData","index","setAttributeData","clearMemCache","this","remove","ROLLED_BACK","delete","COMMITTED","gidToFeatureInfo","oidToFeatureInfo","globalIdField","featureOrIdentifierList","featuresResolved","feature","oid","gid","normalizeFieldName","objectId","globalId","arguments","length","undefined","error","result","push","async","addedFeatures","edits","addFeatures","updatedFeatures","updateFeatures","deletedFeatures","deleteFeatures","globalIdToObjectId","size","layer","associatedLayer","createQuery","where","Array","from","keys","map","join","returnGeometry","outFields","cacheHint","ok","value","features","adds","filter","updates","deletes","geometry","type","updateGeometry","p","g","featureIndex","featureId","forEach","updateAttributeValue","infoFor3D","Object","values","assetMapFieldRoles","transformFieldRoles","featureAdded","has","m","b","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","getObjectId","h","whenGraphicAttributes","catch","then","concat","sort","constructor","super","_numUpdating","updating","autoUpdateAsync","destroyed","_set","getLogger","warn","String","readOnly","prototype","layerView","requiredFields","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","initialize","addHandles","renderer","_getFieldsAsync","collectRequiredFields","labelsVisible","mergedFilter","availableFields","_geometryEngine","_projectionEngineLoaded","_abortController","AbortController","maximumNumberOfFeatures","maximumNumberOfFeaturesExceeded","layerFilter","_layerFilter","geometries","_filterNeedsProjectionEngine","at","spatialReference","toArray","simplify","warnOncePerTick","equals","extent","xmin","xmax","ymin","ymax","intersects","union","pop","spatialRelationship","some","_ref","layerFilterUpdating","signal","y","destroy","highlight","queryFeatures","queryObjectIds","queryFeatureCount","queryExtent","w"],"sourceRoot":""}