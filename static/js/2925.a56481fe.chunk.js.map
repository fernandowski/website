{"version":3,"file":"static/js/2925.a56481fe.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LineOfSightLayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import{createTask as i}from\"../../../core/asyncUtils.js\";import e from\"../../../core/Error.js\";import{destroyMaybe as a,abortMaybe as t}from\"../../../core/maybe.js\";import{isAborted as r}from\"../../../core/promiseUtils.js\";import{watch as n,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as w}from\"./LayerView3D.js\";import h from\"../../layers/LayerView.js\";const c=\"analysis-view-handles\";let p=class extends(w(h)){constructor(s){super(s),this.type=\"line-of-sight-3d\",this._analysisModule=null}initialize(){this.addHandles(n((()=>this.layer.analysis),(s=>{this._destroyAnalysisView(),null!=s&&this._createAnalysisView(s)}),l),c)}destroy(){this.removeHandles(c),this._destroyAnalysisView()}async whenAnalysisView(){if(null!=this.analysisView)return this.analysisView;if(null!=this._createAnalysisViewTask)return this._createAnalysisViewTask.promise;throw new e(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been set on the LineOfSightLayer of this layer view\")}isUpdating(){return null!=this._createAnalysisViewTask||null!=this.analysisView&&this.analysisView.updating}_createAnalysisView(s){const e=i((async i=>(this.analysisView=await this._createAnalysisViewPromise(s,i),this._createAnalysisViewTask===e&&(this._createAnalysisViewTask=null),this.analysisView)));this._createAnalysisViewTask=e}_destroyAnalysisView(){this.analysisView=a(this.analysisView),this._createAnalysisViewTask=t(this._createAnalysisViewTask)}async _createAnalysisViewPromise(s,i){let a=this._analysisModule;if(null==a){const s=await this._loadAnalysisModule();this._analysisModule=s,a=s}const t=new a.default({analysis:s,view:this.view,parent:this});if(await t.when(),r(i))throw t.destroy(),new e(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been added to the LineOfSightLayer of this layer view\",{analysis:s});return t}_loadAnalysisModule(){return import(\"../analysis/LineOfSightAnalysisView3D.js\")}};s([o()],p.prototype,\"type\",void 0),s([o()],p.prototype,\"layer\",void 0),s([o()],p.prototype,\"analysisView\",void 0),s([o()],p.prototype,\"_createAnalysisViewTask\",void 0),p=s([y(\"esri.views.3d.layers.LineOfSightLayerView3D\")],p);const d=p;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["l","n","constructor","super","arguments","this","slicePlaneEnabled","supportsHeightUnitConversion","postscript","p","layer","addResolvingPromise","_validateHeightModelInfo","o","AbortController","r","signal","addHandles","s","abort","t","view","defaultsFromMap","heightModelInfoReady","e","i","a","heightModelInfo","prototype","c","w","h","type","_analysisModule","initialize","analysis","_destroyAnalysisView","_createAnalysisView","destroy","removeHandles","whenAnalysisView","analysisView","_createAnalysisViewTask","promise","isUpdating","updating","async","_createAnalysisViewPromise","_loadAnalysisModule","default","parent","when","y","d","u","EventedMixin","_updatingHandles","catch","name","id","title","getLogger","error","fullOpacity","opacity","suspended","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","effectiveScaleRange","loaded","ready","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","readOnly","Boolean"],"sourceRoot":""}