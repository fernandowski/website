{"version":3,"file":"static/js/183.acf37bfc.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as i}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as g}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(v){const f=new n,{vertex:u,fragment:m}=f;return t(u,v),f.include(o,v),f.attributes.add(c.POSITION,\"vec3\"),f.attributes.add(c.UV0,\"vec2\"),v.perspectiveInterpolation&&f.attributes.add(c.PERSPECTIVEDIVIDE,\"float\"),f.varyings.add(\"vpos\",\"vec3\"),v.multipassEnabled&&f.varyings.add(\"depth\",\"float\"),u.code.add(d`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}\n    }\n  `),f.include(r,v),f.include(i,v),m.uniforms.add(new p(\"tex\",(e=>e.texture)),new l(\"opacity\",(e=>e.opacity))),f.varyings.add(\"vTexCoord\",\"vec2\"),v.transparencyPassType===g.ColorAlpha&&(f.outputs.add(\"fragColor\",\"vec4\",0),f.outputs.add(\"fragAlpha\",\"float\",1)),m.include(a),m.code.add(d`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${d.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType===g.ColorAlpha?d`\n              fragColor = premultiplyAlpha(fragColor);\n              fragAlpha = fragColor.a;`:\"\"}\n      ${v.output===e.ObjectAndLayerIdColor?d`\n              fragColor = vec4(0,0,0,1);`:\"\"}\n    }\n    `),f}const f=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{f as I,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as o}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as n}from\"../../../../geometry/support/FloatArray.js\";import{Attribute as i}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as h}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(r,o,n){const i=t(r)/e(r),m={width:n,height:n};return i>1.0001?m.height=n/i:i<.9999&&(m.width=n*i),m.width=Math.round(m.width/(t(r)/t(o))),m.height=Math.round(m.height/(e(r)/e(o))),m}function l(t,e){return h(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function s(t,e,h){if(!r(e,h))return l(t,h);const u=[e[1]-h[1],Math.min(e[3],h[3])-Math.max(e[1],h[1]),h[3]-e[3],123456],s=[e[0]-h[0],Math.min(e[2],h[2])-Math.max(e[0],h[0]),h[2]-e[2],123456],f=h[2]-h[0],p=h[3]-h[1],w=s[0]>0&&s[2]>0?3:2,b=u[0]>0&&u[2]>0?3:2,c=(b+1)*(w+1),y=o(3*c),d=n(2*c),j=new Array(6*(b*w-1));let A=0,M=0,x=0,O=0,G=0;for(let r=0;r<4;r++){const t=u[r];if(t<=0)continue;let e=0;for(let o=0;o<4;o++){const t=s[o];t<=0||(y[M++]=h[0]+e,y[M++]=h[1]+A,y[M++]=-1,d[x++]=e/f,d[x++]=A/p,o<3&&r<3&&(1!==o||1!==r)&&(j[G++]=O,j[G++]=O+1,j[G++]=O+w+1,j[G++]=O+1,j[G++]=O+w+2,j[G++]=O+w+1),O++,e+=t)}A+=t}const I=new Array(j.length);return new m(t,[[g.POSITION,new i(y,j,3,!0)],[g.NORMAL,new i(a,I,3,!0)],[g.UV0,new i(d,j,2,!0)]])}const a=[0,0,1];export{u as computeImageExportSize,l as createGeometryForExtent,s as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import s from\"../../../core/Logger.js\";import{abortMaybe as a}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as n,onAbort as l,isAborted as h,createAbortError as m,throwIfAborted as d}from\"../../../core/promiseUtils.js\";import{whenOnce as c}from\"../../../core/reactiveUtils.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../geometry/Extent.js\";import{equals as f,create as y,width as w,height as _,copy as x,intersection as v}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as R}from\"./interfaces.js\";import{LayerView3D as b}from\"./LayerView3D.js\";import{computeImageExportSize as E,createGeometryForExtent as S,createOuterImageGeometry as j}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as I}from\"./support/projectExtentUtils.js\";import{debugFlags as A}from\"../support/debugFlags.js\";import{OverlayIndex as D}from\"../terrain/interfaces.js\";import{DirtyOperation as M}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as L}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as C}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as G}from\"../webgl-engine/lib/UpdatePolicy.js\";import{ImageMaterial as P}from\"../webgl-engine/materials/ImageMaterial.js\";import T from\"../../layers/LayerView.js\";import O from\"../../layers/RefreshableLayerView.js\";import{isInEffectiveScaleRange as U}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as H}from\"../../webgl/enums.js\";let V=class extends(O(b(T))){constructor(){super(...arguments),this.drapeSourceType=R.RasterImage,this.updatePolicy=G.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=o((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{n(e)||s.getLogger(this).error(e)}))}),2e3)}get visibleAtCurrentScale(){const e=this.layer,t=\"effectiveScaleRange\"in e?e.effectiveScaleRange:null;return U(t,this.view.terrainScale)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(I(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler()))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}_updateImageExtent(e,t){const r=this._clippedExtent(e.extent,z);if(null==r)return;const i=E(e.extent,r,e.resolution);let a=e.pixelRatio*this.view.state.pixelRatio;const{layer:o}=this;if(\"imageMaxWidth\"in o&&null!=o.imageMaxWidth||\"imageMaxHeight\"in o&&null!=o.imageMaxHeight){const e=o.imageMaxWidth,t=o.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,a*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,a*=e}}const l=this._extents[t];l&&f(l.extent,r)&&this._imageSizeEquals(r,l.imageSize,i)||(this._extents[t]={extent:y(r),imageSize:i,pixelRatio:a},this.suspended||this._fetch(t).catch((e=>{n(e)||s.getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await Promise.allSettled(t)}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new p(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=w(e)/this.maximumDataResolution.x,s=_(e)/this.maximumDataResolution.y,a=i/t.width,o=s/t.height,n=i/r.width,l=s/r.height,h=Math.abs(a-n),m=Math.abs(o-l),d=A.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:y(i)});const o=this._images[e];o.loadingAbortController=a(o.loadingAbortController);const c=new p(i[0],i[1],i[2],i[3],this._spatialReference);if(0===c.width||0===c.height)return void this._clearImage(e);const g=new AbortController;o.loadingAbortController=g,l(t,(()=>g.abort()));const u=g.signal,f=this._waitFetchReady(u).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:u},{height:i,width:s}=r.imageSize;return this.layer.fetchImage(c,s,i,t)})).then((e=>{if(h(u))throw s.getLogger(this).warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),m();return this.processResult(o,e)})).then((()=>{x(o.renderExtent,i)}));o.loadingPromise=f,await this._updatingHandles.addPromise(f.then((async()=>{d(u),await this._createStageObjects(e,o.image,u)})).catch((e=>{throw e&&!n(e)&&s.getLogger(this).error(e),e})).finally((()=>{f===o.loadingPromise&&(o.loadingPromise=null,o.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],M.UPDATE),t.renderGeometry=null);const e=this.view._stage,r=t.texture;r?.unload(),e.remove(r),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=a(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const s=this.view._stage,a=this._images[e],o=()=>{a.texture?.unload(),s.remove(a.texture),a.texture=null,a.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([a.renderGeometry],M.UPDATE),a.renderGeometry=null)};if(t){const n=new C(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:H.CLAMP_TO_EDGE,t:H.CLAMP_TO_EDGE}});let l;if(await r(this._images[e===D.INNER?D.OUTER:D.INNER].loadingPromise),d(i),o(),await s.schedule((()=>n.load(s.renderView.renderingContext)),i),s.add(n),a.texture=n,null==a.material?(a.material=new P({transparent:!0,textureId:n.id}),s.add(a.material)):a.material.setParameters({textureId:n.id}),e===D.INNER)l=S(a.material,a.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void o();l=j(a.material,e,a.renderExtent)}a.renderGeometry=new L(l),a.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([a.renderGeometry],M.UPDATE)}else o(),s.remove(a.material),a.material=null}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return x(t,e);const r=this.view.basemapTerrain;return r.ready?v(e,r.extent,t):x(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await c((()=>this.view.stationary),e),d(e)}};e([g()],V.prototype,\"layer\",void 0),e([g()],V.prototype,\"suspended\",void 0),e([g({readOnly:!0})],V.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([g({readOnly:!0})],V.prototype,\"visibleAtCurrentScale\",null),e([g()],V.prototype,\"updating\",void 0),V=e([u(\"esri.views.3d.layers.DynamicLayerView3D\")],V);const N=V,z=y();export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{project as e}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as r}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const t=l.view.spatialReference,o=l.layer.fullExtent,s=null!=o&&o.spatialReference;if(null==o||!s)return Promise.resolve(null);if(s.equals(t))return Promise.resolve(o.clone());const n=e(o,t);return null!=n?Promise.resolve(n):l.view.state.isLocal?r(o,t,l.layer.portalItem).then((e=>!l.destroyed&&e?e:null)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import{oitBlending as a,oitDepthTest as l,oitDepthWrite as p,oitDrawBuffers as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as P}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as O,makePipelineState as j,cullingParams as S,defaultDepthWriteParams as v,defaultColorWriteParams as I}from\"../../../webgl/renderState.js\";class N extends r{}class E extends o{initializeProgram(e){return new h(e.rctx,E.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const i=this.configuration,o=e===y.NONE,s=e===y.FrontFace;return j({blending:i.output===t.Color&&i.transparent?o?w:a(e):null,culling:S(i.cullFace),depthTest:{func:l(e)},depthWrite:o?i.writeDepth?v:null:p(e),drawBuffers:c(e),colorWrite:I,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:o||s?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}E.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const w=O(T.ONE,T.ONE_MINUS_SRC_ALPHA);class C extends P{constructor(){super(...arguments),this.output=t.Color,this.cullFace=n.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}e([s({count:t.COUNT})],C.prototype,\"output\",void 0),e([s({count:n.COUNT})],C.prototype,\"cullFace\",void 0),e([s()],C.prototype,\"hasSlicePlane\",void 0),e([s()],C.prototype,\"transparent\",void 0),e([s()],C.prototype,\"enableOffset\",void 0),e([s()],C.prototype,\"writeDepth\",void 0),e([s()],C.prototype,\"hasOccludees\",void 0),e([s({count:y.COUNT})],C.prototype,\"transparencyPassType\",void 0),e([s()],C.prototype,\"multipassEnabled\",void 0),e([s()],C.prototype,\"cullAboveGround\",void 0),e([s()],C.prototype,\"perspectiveInterpolation\",void 0),e([s({constValue:!1})],C.prototype,\"occlusionPass\",void 0);const _=new Map([[b.POSITION,0],[b.UV0,2],[b.PERSPECTIVEDIVIDE,3]]);export{N as ImageMaterialPassParameters,E as ImageMaterialTechnique,C as ImageMaterialTechniqueConfiguration,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isOIDorHighlight as t,isColor as r,ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as i}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as n}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as d}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as _,ImageMaterialTechniqueConfiguration as E,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";class g extends m{constructor(e){super(e,new P),this.supportsEdges=!0,this.produces=new Map([[p.OPAQUE_MATERIAL,e=>t(e)||r(e)&&!this.parameters.transparent],[p.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.transparent&&this.parameters.writeDepth],[p.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>r(e)&&this.parameters.transparent&&!this.parameters.writeDepth],[p.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._vertexAttributeLocations=_,this._configuration=new E}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=h.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new b(e)}}class I extends i{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(T,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(e){return this._output===s.Color&&this._updateOccludeeState(e),this._updateParameters(e)}}class b extends l{write(t,r,s,a,i){for(const n of this.vertexBufferLayout.fields.keys()){const o=s.attributes.get(n);if(o)if(n===c.PERSPECTIVEDIVIDE){u(1===o.size);const t=a.getField(n,e);t&&f(o,t,i)}else d(n,o,t,r,a,i)}}}class P extends n{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=a.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{g as ImageMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n"],"names":["v","f","n","vertex","u","fragment","m","t","include","o","attributes","add","c","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","multipassEnabled","code","d","r","i","uniforms","p","e","texture","l","opacity","transparencyPassType","g","ColorAlpha","outputs","a","float","s","output","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","h","Math","min","max","w","b","y","j","Array","A","M","x","O","G","I","length","NORMAL","V","T","constructor","super","arguments","this","drapeSourceType","R","RasterImage","updatePolicy","SYNC","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","async","destroyed","_doRefresh","catch","getLogger","error","visibleAtCurrentScale","layer","effectiveScaleRange","U","view","terrainScale","initialize","basemapTerrain","overlayManager","registerGeometryDrapeSource","addHandles","unregisterDrapeSource","addResolvingPromise","then","_set","_updatingHandles","suspended","_suspendedChangeHandler","destroy","clear","setDrapingExtent","_spatialReference","forEach","_updateImageExtent","_clippedExtent","extent","z","width","height","round","E","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_imageSizeEquals","imageSize","_fetch","_clearImage","doRefresh","push","Promise","allSettled","processResult","HTMLImageElement","HTMLCanvasElement","image","findExtentInfoAt","contains","getFetchOptions","redraw","_createStageObjects","_","abs","TESTS_DISABLE_OPTIMIZATIONS","material","renderGeometry","loadingPromise","loadingAbortController","pixelData","renderExtent","AbortController","abort","signal","_waitFetchReady","requestAsImageElement","fetchImage","warnOnce","addPromise","finally","removeGeometries","UPDATE","_stage","unload","remove","C","preMultiplyAlpha","wrap","H","CLAMP_TO_EDGE","D","INNER","OUTER","schedule","load","renderView","renderingContext","P","transparent","textureId","id","setParameters","S","L","localOrigin","renderLocalOrigin","addGeometries","viewingMode","ready","stationary","prototype","readOnly","N","slicePlaneEnabled","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","spatialReference","fullExtent","resolve","equals","clone","isLocal","portalItem","initializeProgram","rctx","shader","get","configuration","_setPipelineState","NONE","FrontFace","blending","Color","culling","cullFace","depthTest","func","depthWrite","writeDepth","drawBuffers","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipeline","ONE","ONE_MINUS_SRC_ALPHA","None","hasSlicePlane","cullAboveGround","count","COUNT","constValue","Map","supportsEdges","produces","OPAQUE_MATERIAL","parameters","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","DRAPED_MATERIAL","_vertexAttributeLocations","_configuration","getConfiguration","camera","relativeElevation","multipassTerrain","createGLMaterial","createBufferWriter","f32","_updateParameters","updateTexture","_material","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","write","vertexBufferLayout","fields","keys","size","getField","initTextureTransparent","EventedMixin","parent","when","name","title","fullOpacity","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","isUpdating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","type","Boolean","dataChanged"],"sourceRoot":""}